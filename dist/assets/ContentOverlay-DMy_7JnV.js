import{u as ne,j as e,b as z,c as v,t as ie,d as y,a as j,f as ae,h as oe,v as le}from"./index-BmTDuvZb.js";import{A as k,n as N,N as F,c as Y,a as ce,u as de,b as xe,H as me,U as ue,M as pe}from"./UserProfileDropdown-QWBsFMBw.js";import{S as he}from"./SidePanel-y-Bc4QL1.js";import{u as ge,L as ye}from"./useScrollTop-8LvLT7vn.js";import{S as je,N as fe}from"./Notification-Pvi2oGrr.js";import{L as be}from"./Logo-IF-9I2F4.js";import{u as ke,a as Ne,b as we,c as Ce,d as Le,e as Me,f as Ee,s as Fe,g as Te,h as Ie,i as _e,j as Ke,k as Se,l as Ae,m as Pe,F as Re,n as He,o as De,p as Oe,q as ze,r as ve,t as Ye,v as Ue,w as Ve,A as U,D as A}from"./index-BADhTaSU.js";import{T as w,a as qe}from"./Drawer-DzqlIjEr.js";import{L as Be}from"./LayoutBase-DPBLMZIK.js";import{u as $e}from"./useResponsive-DPdpSkN9.js";import"./index-D_KHXJS9.js";import"./NavToggle-D2pRtnEa.js";import"./CloseButton-DJjxVEoc.js";import"./withHeaderItem-BAwxuNZy.js";import"./journalistService-BGxq9KBK.js";import"./apiService-CUP-TZv2.js";import"./index-Kv-3TB7K.js";import"./classNames-1IIsPMBF.js";import"./Button-DurQkwM5.js";import"./Notification-tU2EwgzP.js";import"./StatusIcon-DsewrCSG.js";import"./toast-GyZEIVmG.js";import"./Dialog-DLr3sM2V.js";import"./debounce-BDIv-DRu.js";import"./Badge-CndVQ9ZH.js";import"./isNil-pXqcj5Hj.js";const Ge=({mode:i})=>{const o=ne(a=>a.mode);return e.jsx(z,{to:v.authenticatedEntryPath,children:e.jsx(be,{imgClass:"max-h-10",mode:i||o,className:"hidden lg:block"})})},M=({path:i,children:o,isExternalLink:a,className:r,onClick:c})=>e.jsx(z,{className:ie("w-full flex items-center outline-0",r),to:i,target:a?"_blank":"",onClick:c,children:o}),P=i=>{const{className:o,active:a,asElement:r="button",...c}=i,x={className:y("font-semibold inline-flex h-9 w-max items-center justify-center rounded-lg bg-background px-4 py-2 dark:text-gray-300 dark:hover:text-gray-100 text-gray-900 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",o,a&&"bg-gray-100 hover:bg-gray-200 dark:bg-white/10 dark:hover:bg-white/20")};if(r==="a"){const{path:n,isExternalLink:l,...m}=c;return e.jsx(M,{path:n,isExternalLink:l,...x,...m})}return r==="button"?e.jsx("button",{ref:c.ref,...x,...c}):e.jsx(e.Fragment,{})},R=j.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),Je=i=>{const{menuContent:o,triggerContent:a,dropdownLean:r}=i,[c,x]=j.useState(!1),[n,l]=j.useState(!1),[m,s]=j.useState(null),d=j.useRef([]),u=j.useRef([]),p=j.useContext(R),t=ke(),h=Ne(),f=we(),C=Ce(),g=f!=null,{floatingStyles:q,refs:I,context:b}=Le({nodeId:h,open:c,onOpenChange:x,placement:g?"right-start":r?"bottom-start":"bottom",middleware:[Ye({mainAxis:g?0:4,alignmentAxis:g?-4:0}),Ue(),Ve()],whileElementsMounted:ve}),{isMounted:_,styles:B}=Me(b,{common:({side:L})=>({transformOrigin:{top:"bottom",bottom:"top",left:"right",right:"left"}[L]}),initial:{transform:"translateY(-5%)",opacity:0},duration:200,open:{opacity:1,transform:"translateY(0%)"},close:{opacity:0,transform:"translateY(-5%)"}}),$=Ee(b,{enabled:g,handleClose:Fe({blockPointerEvents:!0})}),G=Te(b,{event:"mousedown",toggle:!g,ignoreMouse:g}),J=Ie(b,{role:"menu"}),Q=_e(b,{bubbles:!0}),W=Ke(b,{listRef:d,activeIndex:m,nested:g,onNavigate:s}),X=Se(b,{listRef:u,onMatch:c?s:void 0,activeIndex:m}),{getReferenceProps:Z,getFloatingProps:ee,getItemProps:se}=Ae([$,G,J,Q,W,X]),E=()=>{x(!1)};j.useEffect(()=>{if(!t)return;function L(){E()}function K(S){S.nodeId!==h&&S.parentId===f&&E()}return t.events.on("click",L),t.events.on("menuopen",K),()=>{t.events.off("click",L),t.events.off("menuopen",K)}},[t,h,f]),j.useEffect(()=>{c&&t&&t.events.emit("menuopen",{parentId:f,nodeId:h})},[t,c,h,f]);const te=Pe([I.setReference,C.ref]),re={...Z(p.getItemProps({...i,onFocus(){l(!1),p.setHasFocusInside(!0)}}))};return e.jsx(Re,{children:e.jsxs(He,{id:h,children:[a==null?void 0:a({ref:te,props:re,hasFocusInside:n,isOpen:_}),e.jsx(R.Provider,{value:{activeIndex:m,setActiveIndex:s,getItemProps:se,setHasFocusInside:l,isOpen:c},children:e.jsx(De,{elementsRef:d,labelsRef:u,children:_&&e.jsx(Oe,{children:e.jsx(ze,{context:b,modal:!1,initialFocus:g?-1:0,returnFocus:!g,children:e.jsx("div",{ref:I.setFloating,style:q,className:"outline-none z-30",...ee(),children:o==null?void 0:o({styles:B,handleDropdownClose:E})})})})})})]})})},T={1:{grid:"grid-cols-1",width:"w-[150px]"},2:{grid:"grid-cols-2",width:"w-[350px]"},3:{grid:"grid-cols-3",width:"w-[750px]"},4:{grid:"grid-cols-4",width:"w-[950px]"},5:{grid:"grid-cols-5",width:"w-[1150px]"}},V=({children:i,className:o,active:a,...r})=>e.jsx("div",{className:y("cursor-pointer font-semibold px-3 rounded-lg flex items-center w-full whitespace-nowrap gap-x-2 transition-colors duration-150 hover:text-gray-900 hover:bg-gray-100 dark:hover:text-gray-100 dark:hover:bg-gray-800",a&&"bg-gray-100 dark:bg-gray-800",o),role:"menuitem",...r,children:i}),H=({icon:i})=>typeof i!="string"&&!i?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:N[i]&&e.jsx("span",{className:"text-xl",children:N[i]||e.jsx(w,{})})}),D=({path:i,isExternalLink:o,onClick:a,icon:r,title:c,description:x,active:n})=>e.jsx(M,{path:i,isExternalLink:o,className:"gap-2 block",onClick:a,children:e.jsxs(V,{className:"py-2 px-2 gap-3",active:n,children:[e.jsx("div",{children:e.jsx(U,{className:y("bg-white dark:bg-transparent p-2 border-2 border-gray-200 dark:border-gray-600",n?"text-primary":"heading-text"),size:40,icon:r,shape:"round"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"heading-text font-bold",children:c}),e.jsx("div",{className:"text-xs truncate",children:x})]})]})}),Qe=i=>{var m;const{navigationTree:o,t:a,onDropdownClose:r,columns:c=1,showColumnTitle:x=!0,routeKey:n,userAuthority:l}=i;return e.jsxs("div",{className:"flex max-w-[1400px] w-full",children:[e.jsx("div",{className:y("grid gap-y-6 gap-x-8 p-6 flex-1",(m=T[c])==null?void 0:m.grid),children:o.map(s=>s.subMenu.length>0?e.jsx(k,{userAuthority:l,authority:s.authority,children:e.jsxs("div",{className:"max-w-[250px]",children:[x&&e.jsx("div",{className:"heading-text font-bold mb-2",children:a(s.translateKey,s.title)}),s.subMenu.map(d=>{var u,p,t,h;return e.jsx(k,{userAuthority:l,authority:d.authority,children:e.jsx("div",{children:e.jsx(D,{path:d.path,isExternalLink:d.isExternalLink,icon:N[d.icon]||e.jsx(w,{}),title:a(d.translateKey,d.title),description:a(((p=(u=d.meta)==null?void 0:u.description)==null?void 0:p.translateKey)||"",((h=(t=d.meta)==null?void 0:t.description)==null?void 0:h.label)||""),active:d.key===n,onClick:r})},d.key)},d.key)})]})},s.key):null)}),o.some(s=>s.type===F)&&e.jsx("div",{className:y("ltr:border-l rtl:border-r border-gray-200 dark:border-gray-800 min-w-[280px] p-4 flex flex-col"),children:o.map(s=>{var d,u,p,t;return s.subMenu.length===0&&s.type===F?e.jsx(k,{userAuthority:l,authority:s.authority,children:e.jsx(D,{path:s.path,isExternalLink:s.isExternalLink,icon:N[s.icon]||e.jsx(w,{}),title:a(s.translateKey,s.title),description:a(((u=(d=s.meta)==null?void 0:d.description)==null?void 0:u.translateKey)||"",((t=(p=s.meta)==null?void 0:p.description)==null?void 0:t.label)||""),active:s.key===n,onClick:r},s.key)},s.key):null})})]})},O=({navigationTree:i,t:o,onDropdownClose:a,routeKey:r,userAuthority:c})=>{const x=(n,l)=>{const m=l+1;return e.jsx("div",{className:y(l===0&&"p-3"),children:n.map(s=>e.jsx(k,{userAuthority:c,authority:s.authority,children:e.jsxs("ul",{children:[s.type===F&&e.jsx(A.Item,{active:r===s.key,children:e.jsxs(M,{path:s.path,isExternalLink:s.isExternalLink,className:"gap-2 h-full",onClick:a,children:[e.jsx(H,{icon:s.icon}),e.jsx("span",{children:o(s.translateKey,s.title)})]})}),s.type===Y&&e.jsx(A,{renderTitle:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(H,{icon:s.icon}),e.jsx("span",{children:o(s.translateKey,s.title)})]}),children:s.subMenu&&s.subMenu.length>0&&x(s.subMenu,m)})]})},s.key))})};return e.jsx(e.Fragment,{children:x(i,0)})},We=({navigationTree:i,t:o,onDropdownClose:a,columns:r,routeKey:c,userAuthority:x,routeParentKey:n})=>{var s,d,u,p;const[l,m]=j.useState(i.some(t=>t.key===n)?n:((s=i[0])==null?void 0:s.key)||"");return e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"p-4",children:i.map(t=>{var h,f,C,g;return t.subMenu.length>0?e.jsx(k,{userAuthority:x,authority:t.authority,children:e.jsx("div",{className:"min-w-[250px]",children:e.jsx("div",{children:e.jsxs(V,{className:"py-2 px-2 gap-3",active:t.key===l,onClick:()=>m(t.key),children:[e.jsx("div",{children:e.jsx(U,{className:y("bg-white dark:bg-transparent p-2 border-2 border-gray-200 dark:border-gray-600",t.key===c?"text-primary":"heading-text"),size:40,icon:N[t.icon]||e.jsx(w,{}),shape:"round"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"heading-text font-bold",children:o(t.translateKey,t.title)}),e.jsx("div",{className:"text-xs truncate",children:o(((f=(h=t.meta)==null?void 0:h.description)==null?void 0:f.translateKey)||"",((g=(C=t.meta)==null?void 0:C.description)==null?void 0:g.label)||"")})]})]})},t.key)})},t.key):null})}),i.some(t=>t.key===l&&t.type===Y)&&e.jsx("div",{className:"ltr:border-l rtl:border-r border-gray-200 dark:border-gray-800 p-6",children:e.jsx("div",{className:y("grid gap-x-8 flex-1",(d=T[r])==null?void 0:d.grid,(u=T[r])==null?void 0:u.width),children:(p=i.find(t=>t.key===l))==null?void 0:p.subMenu.map(t=>e.jsx(k,{userAuthority:x,authority:t.authority,children:e.jsx(M,{path:t.path,isExternalLink:t.isExternalLink,className:"gap-2 group",onClick:()=>a(),children:e.jsxs("div",{className:y("flex items-center gap-2 h-[42px] heading-text group-hover:text-primary",c===t.key&&"text-primary"),children:[e.jsx("span",{className:"text-xl",children:N[t.icon]||e.jsx(w,{})}),e.jsx("span",{children:o(t.translateKey,t.title)})]})})},t.key))})})]})},Xe=i=>{const{style:o,navigationTree:a,layoutMeta:r,...c}=i;return e.jsxs("div",{className:"rounded-2xl bg-white dark:bg-gray-900 ring-0 shadow-[0px_48px_64px_-16px_rgba(0,0,0,0.25)] border border-gray-100 dark:border-gray-800 focus:outline-none min-w-[180px]",style:o,children:[(r==null?void 0:r.layout)==="default"&&e.jsx(O,{navigationTree:a,...c}),(r==null?void 0:r.layout)==="columns"&&e.jsx(Qe,{navigationTree:a,columns:r.columns,showColumnTitle:r.showColumnTitle,...c}),(r==null?void 0:r.layout)==="tabs"&&e.jsx(We,{navigationTree:a,columns:r.columns,...c}),!r&&e.jsx(O,{navigationTree:a,...c})]})},Ze=i=>{const{routeKey:o,navigationTree:a=[],translationSetup:r,userAuthority:c}=i,{t:x}=ce(!r),{activedRoute:n}=de(a,o);return e.jsx("div",{className:"flex gap-1",children:a.map(l=>{var m,s;return e.jsx(k,{userAuthority:c,authority:l.authority,children:l.subMenu.length>0?e.jsx(Je,{dropdownLean:((s=(m=l.meta)==null?void 0:m.horizontalMenu)==null?void 0:s.layout)==="default",triggerContent:({ref:d,props:u})=>e.jsx(P,{ref:d,...u,asElement:"button",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:x(l.translateKey,l.title)}),e.jsx(qe,{})]})}),menuContent:({styles:d,handleDropdownClose:u})=>{var p;return e.jsx(Xe,{style:d,navigationTree:l.subMenu,t:x,layoutMeta:(p=l==null?void 0:l.meta)==null?void 0:p.horizontalMenu,routeKey:o,routeParentKey:n==null?void 0:n.parentKey,userAuthority:c,onDropdownClose:u})}}):e.jsx(P,{...i,path:l.path,isExternalLink:l.isExternalLink,active:(n==null?void 0:n.key)===l.key,asElement:"a",children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{children:x(l.translateKey,l.title)})})})},l.key)})})},es=({translationSetup:i=v.activeNavTranslation})=>{const o=ae(r=>r.currentRouteKey),a=oe(r=>r.user.authority);return e.jsx(Ze,{navigationTree:xe,routeKey:o,userAuthority:a||[],translationSetup:i})},Es=({children:i})=>{const{isSticky:o}=ge(),{larger:a,smaller:r}=$e();return e.jsx(Be,{type:le,className:"app-layout-content-overlay flex flex-auto flex-col min-h-screen",pageContainerReassemble:({children:c,defaultClass:x,header:n,pageBackgroundType:l,pageContainerType:m,pageContainerGutterClass:s,footer:d,PageContainerHeader:u,PageContainerBody:p,PageContainerFooter:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:y(x,"sm:px-0 px-4",n!=null&&n.title?"-mt-60":"-mt-60 sm:-mt-40"),children:e.jsxs("main",{className:"h-full",children:[e.jsx("div",{className:"dark container mx-auto relative",children:e.jsx(u,{...n,className:"mb-20",customeHeader:()=>e.jsxs(e.Fragment,{children:[(n==null?void 0:n.title)&&typeof(n==null?void 0:n.title)=="string"&&e.jsx("h2",{className:"mb-2",children:n.title}),(n==null?void 0:n.description)&&e.jsx("p",{className:"text-base text-white opacity-60",children:n.description})]})})}),e.jsxs(p,{pageContainerType:"contained",children:[l==="plain"?e.jsx("div",{className:y("bg-white dark:bg-gray-900 rounded-2xl",s),children:c}):c,e.jsx(t,{className:"-mb-40 mt-4 md:px-0",footer:d,pageContainerType:m})]})]})})}),children:e.jsx("div",{className:"flex flex-auto min-w-0",children:e.jsxs("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:[e.jsx(me,{container:!0,className:y("fixed",o?"shadow dark:shadow-2xl":"bg-transparent dark"),wrapperClass:"px-0",headerStart:e.jsxs(e.Fragment,{children:[r.lg&&e.jsx(pe,{}),e.jsx(Ge,{...o?{}:{mode:"dark"}})]}),headerMiddle:e.jsx(e.Fragment,{children:a.lg&&e.jsx(es,{})}),headerEnd:e.jsxs(e.Fragment,{children:[e.jsx(je,{}),e.jsx(ye,{}),e.jsx(fe,{}),e.jsx(he,{}),e.jsx(ue,{hoverable:!1})]})}),e.jsx("div",{className:"h-[400px] bg-[linear-gradient(220deg,_rgb(9,_12,_17)_10%,_#15122f_35%,_#2b1e38_55%,_#0c2239_70%,_rgb(9,_12,_17)_90%)]",children:e.jsx("div",{className:"container mx-auto h-full"})}),i]})})})};export{Es as default};
