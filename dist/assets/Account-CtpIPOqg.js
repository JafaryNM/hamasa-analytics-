const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SettingsSecurity-IDlbK629.js","assets/index-BmTDuvZb.js","assets/index-Cb7EGsJ3.css","assets/Button-DurQkwM5.js","assets/classNames-1IIsPMBF.js","assets/FormContainer-DAIJ54eo.js","assets/isNil-pXqcj5Hj.js","assets/CloseButton-DJjxVEoc.js","assets/ConfirmDialog-teBenfrx.js","assets/index-BADhTaSU.js","assets/Drawer-DzqlIjEr.js","assets/index-D_KHXJS9.js","assets/Dialog-DLr3sM2V.js","assets/types-CS3IvESl.js","assets/Badge-CndVQ9ZH.js","assets/Card-BgjqMMuG.js","assets/FileItem-DzXY3F8e.js","assets/index-Kv-3TB7K.js","assets/index-B2aNPlXf.js","assets/index-Dp3eu27c.js","assets/toast-GyZEIVmG.js"])))=>i.map(i=>d[i]);
import{ae as le,a5 as oe,a as m,j as e,_ as Q,Y as F,ac as M,aa as G,ab as X,y as ce,I as de}from"./index-BmTDuvZb.js";import{A as Z}from"./AdaptiveCard-CrXiXQ44.js";import{u as ee}from"./useResponsive-DPdpSkN9.js";import{M as te}from"./index-B2aNPlXf.js";import{S as ue,N as me}from"./NavToggle-D2pRtnEa.js";import{h as xe,D as pe}from"./Drawer-DzqlIjEr.js";import{o as Y,c as E,s as o,i as he,d as V,p as J,e as ae,n as ge,f as fe,g as je,l as R,h as _,F as H,a as f,C as j,j as ve,u as be,t as Ne,k as Se}from"./types-CS3IvESl.js";import{S as z}from"./index-Dp3eu27c.js";import{j as B}from"./journalistService-BGxq9KBK.js";import{r as ye}from"./regionService-CRbPoQHE.js";import{d as se}from"./districtService-BGGYNqv0.js";import{e as Le}from"./expertiseService-H3RLenrD.js";import{e as ke}from"./educationLevelService-CloD3Z5k.js";import{o as we}from"./organizationService-CGkjx4Tm.js";import{o as De}from"./occupationService-DBq0W0Zv.js";import{I as D}from"./FormContainer-DAIJ54eo.js";import{S as T}from"./Select-BSoHUsjb.js";import{k as Ie}from"./CloseButton-DJjxVEoc.js";import{a as U}from"./FileItem-DzXY3F8e.js";import{B as q}from"./Button-DurQkwM5.js";import{A as Ce}from"./index-BADhTaSU.js";import{U as Pe}from"./Upload-DGpyrw0X.js";import{N as W}from"./Notification-tU2EwgzP.js";import{t as K}from"./toast-GyZEIVmG.js";import"./Badge-CndVQ9ZH.js";import{C as Ee}from"./Card-BgjqMMuG.js";import"./Dialog-DLr3sM2V.js";import"./isNil-pXqcj5Hj.js";import"./index-Kv-3TB7K.js";import"./index-D_KHXJS9.js";import"./classNames-1IIsPMBF.js";import"./apiService-CUP-TZv2.js";import"./toConsumableArray-BwQuJZQe.js";import"./StatusIcon-DsewrCSG.js";const Ye={currentView:"profile"},O=le(t=>({...Ye,setCurrentView:n=>t(()=>({currentView:n}))}));function Me(){const{search:t}=oe();return m.useMemo(()=>new URLSearchParams(t),[t])}const{MenuItem:Te}=te,Ae=[{label:"Security",value:"security",icon:e.jsx(xe,{})}],$=({onChange:t})=>{const n=Me(),{currentView:y,setCurrentView:v}=O(),c=n.get("category")||n.get("label")||"inbox",w=b=>{v(b),t==null||t()};return e.jsx("div",{className:"flex flex-col justify-between h-full",children:e.jsx(ue,{className:"h-full overflow-y-auto",children:e.jsx(te,{className:"mx-2 mb-10",children:Ae.map(b=>e.jsxs(Te,{eventKey:b.value,className:`mb-2 ${y===b.value?"bg-gray-100 dark:bg-gray-700":""}`,isActive:c===b.value,onSelect:()=>w(b.value),children:[e.jsx("span",{className:"text-2xl ltr:mr-2 rtl:ml-2",children:b.icon}),e.jsx("span",{children:b.label})]},b.value))})})})},Fe=t=>{const{children:n,placement:y="left",ref:v,...c}=t,[w,b]=m.useState(!1),d=()=>{b(!1)},p=()=>{b(!0)};return m.useImperativeHandle(v,()=>({handleCloseDrawer:d,handleOpenDrawer:p}),[]),e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"close-button text-xl",type:"button",onClick:()=>b(!w),children:e.jsx(me,{toggled:w})}),e.jsx(pe,{isOpen:w,width:330,placement:y,onClose:()=>b(!1),onRequestClose:()=>b(!1),...c,children:n})]})},ie=()=>{const t=m.useRef(null);return e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx(Fe,{ref:t,title:"Navigation",children:e.jsx($,{onChange:()=>{var n;(n=t.current)==null||n.handleCloseDrawer()}})})})})},Re=()=>{const{currentView:t}=O(),{smaller:n,larger:y}=ee(),v=m.lazy(()=>Q(()=>import("./SettingsSecurity-IDlbK629.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])));return e.jsx(Z,{className:"h-full",children:e.jsxs("div",{className:"flex flex-auto h-full",children:[y.lg&&e.jsx("div",{className:"'w-[200px] xl:w-[280px]",children:e.jsx($,{})}),e.jsxs("div",{className:"ltr:xl:pl-6 rtl:xl:pr-6 flex-1 py-2",children:[n.lg&&e.jsx("div",{className:"mb-6",children:e.jsx(ie,{})}),e.jsx(m.Suspense,{fallback:e.jsx(e.Fragment,{}),children:t==="security"&&e.jsx(v,{})})]})]})})},ze=()=>{const{currentView:t}=O(),{smaller:n,larger:y}=ee(),v=m.lazy(()=>Q(()=>import("./SettingsSecurity-IDlbK629.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])));return e.jsx(Z,{className:"h-full",children:e.jsxs("div",{className:"flex flex-auto h-full",children:[y.lg&&e.jsx("div",{className:"'w-[200px] xl:w-[280px]",children:e.jsx($,{})}),e.jsxs("div",{className:"ltr:xl:pl-6 rtl:xl:pr-6 flex-1 py-2",children:[n.lg&&e.jsx("div",{className:"mb-6",children:e.jsx(ie,{})}),e.jsx(m.Suspense,{fallback:e.jsx(e.Fragment,{}),children:t==="security"&&e.jsx(v,{})})]})]})})},Be=Y({firstName:o().trim().min(1,"First name is required"),middleName:o().optional(),lastName:o().trim().min(1,"Last name is required"),email:o().trim().email("Invalid email address"),phone:o().trim().min(10,"Phone number must be at least 10 digits"),gender:o().optional(),dateOfBirth:E([o(),V()]).transform(t=>t instanceof Date?t.toISOString().split("T")[0]:t).refine(t=>!isNaN(Date.parse(t)),"Please select a valid date."),nationality:o().optional(),address:o().optional(),region:Y({label:o().min(1,"Region is required"),value:o().min(2,"Invalid region")}),district:Y({label:o().min(1,"District is required"),value:o().min(2,"Invalid district")}),profilePicture:E([he(File,{message:"Image is required"}).refine(t=>!t||t.size!==0||t.size<=5e6,{message:"Max size exceeded"}),o().optional()]).refine(t=>t instanceof File||typeof t=="string",{message:"Image is required"})}),qe=Y({bio:o().trim().min(10,"Bio should be at least 10 characters long"),expertise:ae(o()).nonempty("At least one expertise is required"),experience:J(t=>Number(t),je().min(1,"Years of experience is required").max(100,"Experience cannot be more than 100 years")),educationLevel:E([Y({uuid:o().uuid("Invalid education level ID"),name:o().min(1,"Invalid education level name")}),ge(),fe()]).optional(),eduSchool:o().min(1,"College name is required"),eduCompletionYear:J(t=>typeof t=="number"?t.toString():t,o().regex(/^\d{4}$/,"Invalid year format (YYYY)").optional().nullable().refine(t=>{if(!t)return!0;const n=parseInt(t,10);return n>=1900&&n<=new Date().getFullYear()},"Year must be between 1900 and the current year"))}).refine(t=>!(t.educationLevel&&!t.eduSchool),{message:"School name is required if education level is selected",path:["eduSchool"]}),Ve=Y({organization:Y({label:o().min(1,"Region is required"),value:o().min(2,"Invalid region")}),occupation:Y({label:o().min(1,"Region is required"),value:o().min(2,"Invalid region")}),startDate:E([o(),V()]).transform(t=>t instanceof Date?t.toISOString().split("T")[0]:t).refine(t=>!isNaN(Date.parse(t)),"Please select a valid start date."),endDate:E([o(),V()]).transform(t=>t instanceof Date?t.toISOString().split("T")[0]:t).refine(t=>!isNaN(Date.parse(t)),"Please select a valid end date."),publishedArticles:ae(Y({title:o().min(3,"Title must be at least 3 characters"),link:o().url("Invalid URL format")})).optional(),linkedinLink:E([o().url("Invalid LinkedIn URL"),R("")]).optional(),twitterLink:E([o().url("Invalid Twitter URL"),R("")]).optional(),facebookLink:E([o().url("Invalid Facebook URL"),R("")]).optional(),websiteLink:E([o().url("Invalid Website URL"),R("")]).optional()}).refine(t=>new Date(t.endDate)>new Date(t.startDate),{message:"End date must be after start date.",path:["endDate"]}),Ue=({regions:t,onNext:n})=>{var L;const{user:y}=F(),{control:v,watch:c,setValue:w,reset:b,handleSubmit:d,formState:{errors:p}}=_(),[I,P]=m.useState(!1),[u,S]=m.useState([]),[h,k]=m.useState(!1),[C,A]=m.useState("");m.useEffect(()=>{if(console.log(C),C){S([]);const{request:a,cancel:N}=se.listByItem(C,{page:1,perPage:1e3},"/region");return a.then(l=>{S(l.data.data.map(x=>({label:x.name,value:x.uuid})))}).catch(l=>{l instanceof M||console.error("Error fetching districts:",l)}),()=>N()}},[C]);const i=async a=>{var l,x;console.log(a),k(!0);const N={uuid:y.uuid??"",firstName:a.firstName,middleName:a.middleName,lastName:a.lastName,email:a.email,phone:a.phone,gender:a.gender,birthDate:a.dateOfBirth,regionUuid:((l=a.region)==null?void 0:l.value)??"",districtUuid:((x=a.district)==null?void 0:x.value)??"",profilePicture:a.profilePicture};B.updateFile(N,`/${N.uuid}`).then(s=>{k(!1),n()}).catch(s=>{k(!1),console.log(s)})};return e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4",children:"Basic Information"}),e.jsxs(H,{onSubmit:d(i),children:[e.jsx("div",{className:"mb-6",children:e.jsx(f,{label:"Profile Picture",children:e.jsx(j,{name:"profilePicture",control:v,render:({field:{onChange:a,value:N}})=>e.jsx(Pe,{className:"cursor-pointer",showList:!1,uploadLimit:1,beforeUpload:l=>{let x=!0;const s=["image/jpeg","image/png"];if(l)for(const g of l)s.includes(g.type)||(x="Please upload a .jpeg or .png file!");return x},onChange:l=>{if(l.length>0){const x=l[0];a(x)}},children:e.jsx(Ce,{size:80,src:N?typeof N=="string"?N:N instanceof File?URL.createObjectURL(N):void 0:void 0,icon:e.jsx(Ie,{})})})})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(f,{label:"First Name",children:[e.jsx(j,{name:"firstName",control:v,render:({field:a})=>e.jsx(D,{...a})}),p.firstName&&e.jsx("p",{className:"text-red-500 text-sm",children:p.firstName.message})]}),e.jsx(f,{label:"Middle Name",children:e.jsx(j,{name:"middleName",control:v,render:({field:a})=>e.jsx(D,{...a})})}),e.jsxs(f,{label:"Last Name",children:[e.jsx(j,{name:"lastName",control:v,render:({field:a})=>e.jsx(D,{...a})}),p.lastName&&e.jsx("p",{className:"text-red-500 text-sm",children:p.lastName.message})]}),e.jsxs(f,{label:"Email",children:[e.jsx(j,{name:"email",control:v,render:({field:a})=>e.jsx(D,{type:"email",...a})}),p.email&&e.jsx("p",{className:"text-red-500 text-sm",children:p.email.message})]}),e.jsx(f,{label:"Date of Birth",invalid:!!p.dateOfBirth,errorMessage:(L=p.dateOfBirth)==null?void 0:L.message,children:e.jsx(j,{name:"dateOfBirth",control:v,render:({field:a})=>e.jsx(U,{...a,inputFormat:"MMM, DD YYYY",value:a.value?new Date(a.value):void 0})})}),e.jsxs(f,{label:"Phone",children:[e.jsx(j,{name:"phone",control:v,render:({field:a})=>e.jsx(D,{type:"tel",...a})}),p.phone&&e.jsx("p",{className:"text-red-500 text-sm",children:p.phone.message})]}),e.jsxs(f,{label:"Gender",children:[e.jsx(j,{name:"gender",control:v,render:({field:a})=>e.jsx(T,{...a,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],placeholder:"Select Gender",value:a.value?{value:a.value,label:a.value}:null,onChange:N=>a.onChange(N==null?void 0:N.value)})}),p.gender&&e.jsx("p",{className:"text-red-500 text-sm",children:p.gender.message})]}),e.jsxs(f,{label:"Region",children:[e.jsx(j,{name:"region",control:v,render:({field:a})=>e.jsx(T,{options:t,...a,onChange:N=>{A((N==null?void 0:N.value)??""),a.onChange(N)}})}),p.region&&e.jsx("p",{className:"text-red-500 text-sm",children:p.region.message})]}),e.jsxs(f,{label:"District",children:[e.jsx(j,{name:"district",control:v,render:({field:a})=>e.jsx(T,{options:u,isDisabled:!C,...a})}),p.district&&e.jsx("p",{className:"text-red-500 text-sm",children:p.district.message})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(q,{type:"submit",variant:"solid",loading:I,children:h||I?"Saving...":"Save & Next"})})]})]})},re=G.forwardRef(({value:t="",onChange:n,placeholder:y,className:v="",maxWords:c,showWordCount:w=!0,...b},d)=>{const[p,I]=G.useState(0),P=u=>{const h=u.target.value.trim().split(/\s+/).filter(k=>k.length>0).length;(!c||h<=c)&&(I(h),n&&n(u))};return e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{ref:d,value:t,onChange:P,placeholder:y,...b,className:`w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 
                        resize-none min-h-[150px] ${v}`}),w&&e.jsxs("p",{className:"text-right text-sm text-gray-500 mt-1",children:[p," ",p===1?"word":"words",c?` / ${c} max`:""]})]})});re.displayName="Textarea";const _e=({educationLevelList:t,expertiseList:n,onNext:y})=>{const{user:v}=F(),{control:c,handleSubmit:w,setValue:b,formState:{errors:d}}=_(),[p,I]=m.useState(!1),P=async u=>{var h;const S={uuid:v.uuid??"",bio:u.bio||"",experience:Number(u.experience)||0,expertise:u.expertise||[],eduSchool:u.eduSchool||"",eduCompletionYear:u.eduCompletionYear||"",educationLevelUuid:(h=u.educationLevel)==null?void 0:h.uuid};B.update(S,"/expertise").then(k=>{I(!1),y()}).catch(k=>{I(!1),console.log(k)}),I(!0)};return e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4",children:"Professional Information"}),e.jsxs(H,{onSubmit:w(P),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:[e.jsxs(f,{label:"Bio (Short Introduction)",children:[e.jsx(j,{name:"bio",control:c,render:({field:u})=>e.jsx(re,{...u,placeholder:"Describe your expertise",rows:4})}),d.bio&&e.jsx("p",{className:"text-red-500 text-sm",children:d.bio.message})]}),e.jsxs(f,{label:"Expertise",children:[e.jsx(j,{name:"expertise",control:c,render:({field:u})=>e.jsx(T,{isMulti:!0,options:n,value:n.filter(S=>{var h;return(h=u.value)==null?void 0:h.includes(S.value)}),onChange:S=>{const h=S.map(k=>k.value);b("expertise",h),u.onChange(h)}})}),d.expertise&&e.jsx("p",{className:"text-red-500 text-sm",children:d.expertise.message})]}),e.jsxs(f,{label:"Years of Experience",children:[e.jsx(j,{name:"experience",control:c,render:({field:u})=>e.jsx(D,{...u,type:"number",min:"0",placeholder:"Enter years of experience",onChange:S=>{const h=S.target.value,k=h?Number(h):0;u.onChange(k)}})}),d.experience&&e.jsx("p",{className:"text-red-500 text-sm",children:d.experience.message})]}),e.jsxs(f,{label:"Education Level",children:[e.jsx(j,{name:"educationLevel",control:c,render:({field:u})=>e.jsx(T,{options:t,value:t.find(S=>{var h;return S.value===((h=u.value)==null?void 0:h.uuid)})||null,onChange:S=>{const h=S?{uuid:S.value,name:S.label}:null;b("educationLevel",h),u.onChange(h)}})}),d.educationLevel&&e.jsx("p",{className:"text-red-500 text-sm",children:d.educationLevel.message})]}),e.jsxs(f,{label:"School / Institution",children:[e.jsx(j,{name:"eduSchool",control:c,render:({field:u})=>e.jsx(D,{...u,placeholder:"Enter school name"})}),d.eduSchool&&e.jsx("p",{className:"text-red-500 text-sm",children:d.eduSchool.message})]}),e.jsxs(f,{label:"Year of Completion",children:[e.jsx(j,{name:"eduCompletionYear",control:c,render:({field:u})=>e.jsx(D,{...u,type:"number",min:"1900",max:new Date().getFullYear(),placeholder:"Enter year"})}),d.eduCompletionYear&&e.jsx("p",{className:"text-red-500 text-sm",children:d.eduCompletionYear.message})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(q,{type:"submit",variant:"solid",loading:p,children:p?"Saving...":"Save & Next"})})]})]})};function He(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"},child:[]}]})(t)}function Oe(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"},child:[]},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"},child:[]}]})(t)}const $e=({organisationList:t,occupationList:n,onNext:y})=>{var C,A;const{user:v}=F(),{control:c,handleSubmit:w,setValue:b,formState:{errors:d}}=_(),{fields:p,append:I,remove:P}=ve({control:c,name:"publishedArticles"}),[u,S]=m.useState(!1),h=ce(),k=async i=>{var a,N,l,x,s,g;console.log("ðŸš€ Submitted Values:",i);const L={uuid:v.uuid??"",organizationUuid:((a=i.organization)==null?void 0:a.value)??"",occupationUuid:((N=i.occupation)==null?void 0:N.value)??"",startDate:i.startDate||null,endDate:i.endDate||null,publishedArticles:i.publishedArticles||[],linkedinLink:((l=i.linkedinLink)==null?void 0:l.trim())||null,twitterLink:((x=i.twitterLink)==null?void 0:x.trim())||null,facebookLink:((s=i.facebookLink)==null?void 0:s.trim())||null,websiteLink:((g=i.websiteLink)==null?void 0:g.trim())||null};S(!0),B.update(L,"/work-portfolio").then(()=>{K.push(e.jsx(W,{title:"Success",type:"success",children:"Your Registration has been updated successfully."})),S(!1),h(`${de}/journalist`)}).catch(r=>{K.push(e.jsx(W,{title:"Error",type:"danger",children:"Failed To Register"})),S(!1)})};return e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Working Portfolio"}),e.jsxs(H,{onSubmit:w(k),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(f,{label:"Media outlet",children:[e.jsx(j,{name:"organization",control:c,render:({field:i})=>e.jsx(T,{options:t,value:t.find(L=>{var a;return L.value===((a=i.value)==null?void 0:a.value)})||i.value,onChange:L=>i.onChange(L)})}),d.organization&&e.jsx("p",{className:"text-red-500 text-sm",children:d.organization.message})]}),e.jsxs(f,{label:"Title",children:[e.jsx(j,{name:"occupation",control:c,render:({field:i})=>e.jsx(T,{options:n,value:n.find(L=>{var a;return L.value===((a=i.value)==null?void 0:a.value)})||i.value,onChange:L=>i.onChange(L)})}),d.occupation&&e.jsx("p",{className:"text-red-500 text-sm",children:d.occupation.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{label:"Start Date",invalid:!!d.startDate,errorMessage:(C=d.startDate)==null?void 0:C.message,children:e.jsx(j,{name:"startDate",control:c,render:({field:i})=>e.jsx(U,{...i,inputFormat:"MMM, DD YYYY",value:i.value?new Date(i.value):void 0})})}),e.jsx(f,{label:"End Date",invalid:!!d.endDate,errorMessage:(A=d.endDate)==null?void 0:A.message,children:e.jsx(j,{name:"endDate",control:c,render:({field:i})=>e.jsx(U,{...i,inputFormat:"MMM, DD YYYY",value:i.value?new Date(i.value):void 0})})})]}),e.jsx("h5",{className:"mt-4 font-semibold",children:"Published Articles (Optional if you have )"}),p.map((i,L)=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center border-b pb-2",children:[e.jsx("div",{className:"col-span-5",children:e.jsx(f,{label:"Title",children:e.jsx(j,{name:`publishedArticles.${L}.title`,control:c,render:({field:a})=>e.jsx(D,{...a,placeholder:"Enter article title"})})})}),e.jsx("div",{className:"col-span-5",children:e.jsx(f,{label:"Link",children:e.jsx(j,{name:`publishedArticles.${L}.link`,control:c,render:({field:a})=>e.jsx(D,{...a,type:"url",placeholder:"Enter article link"})})})}),e.jsx("div",{className:"col-span-2 flex justify-center items-center space-x-3",children:e.jsx("button",{type:"button",onClick:()=>P(L),className:"p-2 text-red-500 hover:text-red-600",children:e.jsx(Oe,{size:20})})})]},i.id)),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{type:"button",onClick:()=>I({title:"",link:""}),className:"flex items-center px-4 py-2 text-white bg-green-500 rounded-md",children:[e.jsx(He,{size:20,className:"mr-2"}),"Add Article"]})}),e.jsx("h5",{className:"mt-4 font-semibold",children:"Social Media Links (Optional if you have)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{label:"LinkedIn Profile",children:e.jsx(j,{name:"linkedinLink",control:c,render:({field:i})=>e.jsx(D,{...i,type:"url"})})}),e.jsx(f,{label:"Twitter Profile",children:e.jsx(j,{name:"twitterLink",control:c,render:({field:i})=>e.jsx(D,{...i,type:"url"})})}),e.jsx(f,{label:"Facebook Profile",children:e.jsx(j,{name:"facebookLink",control:c,render:({field:i})=>e.jsx(D,{...i,type:"url"})})}),e.jsx(f,{label:"Personal Website",children:e.jsx(j,{name:"websiteLink",control:c,render:({field:i})=>e.jsx(D,{...i,type:"url"})})})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(q,{type:"submit",variant:"solid",loading:u,children:u?"Saving...":"Submit"})})]})]})},Ge=()=>{const{user:t}=F(),[n,y]=m.useState(1),[v,c]=m.useState(!1),[w,b]=m.useState([]),[d,p]=m.useState(null),[I,P]=m.useState([]),[u,S]=m.useState([]),[h,k]=m.useState([]),[C,A]=m.useState([]),[i,L]=m.useState([]);m.useEffect(()=>{const{request:l,cancel:x}=ye.list({page:1,perPage:1e5});return l.then(s=>{b(s.data.data.map(g=>({label:g.name,value:g.uuid})))}).catch(s=>{s instanceof M||console.error("Error fetching regions:",s)}),()=>x()},[]),m.useEffect(()=>{if(d){P([]);const{request:l,cancel:x}=se.list({regionUuid:d});return l.then(s=>{P(s.data.data.map(g=>({label:g.name,value:g.uuid})))}).catch(s=>{s instanceof M||console.error("Error fetching districts:",s)}),()=>x()}},[d]),m.useEffect(()=>{const{request:l,cancel:x}=Le.list({page:1,perPage:1e5});return l.then(s=>{S(s.data.data.map(g=>({label:g.name,value:g.uuid})))}).catch(s=>{s instanceof M||console.error("Error fetching expertise:",s)}),()=>x()},[]),m.useEffect(()=>{const{request:l,cancel:x}=ke.list({page:1,perPage:1e5});return l.then(s=>{k(s.data.data.map(g=>({label:g.name,value:g.uuid})))}).catch(s=>{s instanceof M||console.error("Error fetching education level:",s)}),()=>x()},[]),m.useEffect(()=>{const{request:l,cancel:x}=we.list({page:1,perPage:1e5});return l.then(s=>{A(s.data.data.map(g=>({label:g.name,value:g.uuid})))}).catch(s=>{s instanceof M||console.error("Error on organisation",s)}),()=>x()},[]),m.useEffect(()=>{const{request:l,cancel:x}=De.list({page:1,perPage:1e5});return l.then(s=>{console.log(s.data.data),L(s.data.data.map(g=>({label:g.name,value:g.uuid})))}).catch(s=>{s instanceof M||console.error("Error on organisation",s)}),()=>x()},[]);const a=be({resolver:Ne(n===1?Be:n===2?qe:Ve),mode:"onSubmit",defaultValues:{}});m.useEffect(()=>{t!=null&&t.uuid&&N(t.uuid)},[t==null?void 0:t.uuid]);const N=async l=>{var x;c(!0);try{const{request:s}=B.show(l),g=await s;if(!((x=g==null?void 0:g.data)!=null&&x.data)){console.log("api not working perfect");return}const r=g.data.data;console.log(r),a.reset({uuid:r.uuid||"",firstName:r.firstName||"",middleName:r.middleName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",gender:r.gender||"Male",dateOfBirth:r.birthDate||"",region:r.region?{label:r.region.name,value:r.region.uuid}:void 0,district:r.district?{label:r.district.name,value:r.district.uuid}:void 0,bio:r.bio||"",experience:r.experience||"",eduSchool:r.eduSchool||"",eduCompletionYear:r.eduCompletionYear?String(r.eduCompletionYear):"",educationLevel:r.level?h.find(ne=>ne.value===r.level.uuid)||{uuid:r.level.uuid,name:r.level.name}:null,expertise:r.expertise||[],profilePicture:r.profilePicUrl,organization:r.organization?{label:r.organization.name,value:r.organization.uuid}:void 0,occupation:r.occupation?{label:r.occupation.name,value:r.occupation.uuid}:void 0,startDate:r.startDate??"",endDate:r.endDate??"",publishedArticles:r.publishedArticles??"",linkedinLink:r.linkedinLink??"",twitterLink:r.twitterLink??"",facebookLink:r.facebookLink??"",websiteLink:r.websiteLink??""})}catch(s){console.error("ðŸ”¥ Error fetching journalist details:",s)}finally{c(!1)}};return e.jsx(Ee,{children:e.jsxs(Se,{...a,children:[e.jsx("h4",{className:"mb-4",children:"Complete Your Profile"}),e.jsxs(z,{className:"mb-10",current:n,children:[e.jsx(z.Item,{title:"Basic Info"}),e.jsx(z.Item,{title:"Professional Info"}),e.jsx(z.Item,{title:"Working Portfolio"})]}),n===1&&e.jsx(Ue,{regions:w,onNext:()=>y(2)}),n===2&&e.jsx(_e,{expertiseList:u,educationLevelList:h,onNext:()=>y(3)}),n===3&&e.jsx($e,{organisationList:C,occupationList:i,onNext:()=>y(3)}),e.jsx("div",{className:"flex justify-between mt-6",children:e.jsx(q,{className:"relative bottom-20",disabled:n===1,onClick:()=>y(l=>Math.max(l-1,1)),children:"Previous"})})]})})};function It(){const{user:t}=F();return t?e.jsxs("div",{children:[(t.type==="admin"||t.type==="super-admin")&&e.jsx(Re,{}),t.type==="journalist"&&e.jsx(Ge,{}),t.type==="judge"&&e.jsx(ze,{})]}):e.jsx("div",{children:"Loading..."})}export{It as default};
