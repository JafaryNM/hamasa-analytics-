import{a as d,j as e,ac as T}from"./index-BmTDuvZb.js";import"./index-BADhTaSU.js";import"./Badge-CndVQ9ZH.js";import{B as r}from"./Button-DurQkwM5.js";import{C as p}from"./Card-BgjqMMuG.js";import"./FileItem-DzXY3F8e.js";import"./Dialog-DLr3sM2V.js";import{s as m,x as h,y as B,z as L,b as I,A as M}from"./Drawer-DzqlIjEr.js";import"./FormContainer-DAIJ54eo.js";import"./isNil-pXqcj5Hj.js";import"./index-Kv-3TB7K.js";import"./index-B2aNPlXf.js";import{S as U}from"./Select-BSoHUsjb.js";import"./index-Dp3eu27c.js";import"./toast-GyZEIVmG.js";import{a as O}from"./awardService-Bn5RyqjY.js";import{P as z,C as x,A as k,c as f,p as g,B as j,b as v,L as y,a as w,D as P}from"./index-DStlN3_H.js";import{C as E}from"./index-BWkDntBQ.js";import{F as R}from"./Table-D5q3gGnO.js";import{S as A}from"./StaticCard-CAF3RO4X.js";import"./classNames-1IIsPMBF.js";import"./index-D_KHXJS9.js";import"./CloseButton-DJjxVEoc.js";import"./toConsumableArray-BwQuJZQe.js";import"./apiService-CUP-TZv2.js";import"./omit-B089rQxj.js";import"./AntdIcon-Bbd_N7Ky.js";import"./context-Du5Tb9SW.js";import"./Skeleton-mMNMjP0-.js";import"./useBreakpoint-B4e-Cr1A.js";import"./EllipsisOutlined-BvS74-YI.js";import"./useVariants-D5R8gtcG.js";import"./extendsObject-BwUYxLSG.js";import"./index-D8WFQQX-.js";import"./Compact-BRfsaHnR.js";import"./getAllowClear-TCr_opQ2.js";x.register(k,f,g);const G=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="gender-distribution-chart.png",t.click()}},i=()=>{const s=new Blob([`Gender,Value
Male,60
Female,35
Other,3
Prefer not to say,2`],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(s),t.download="gender-distribution-chart.csv",t.click()},c={labels:["Male","Female","Other","Prefer not to say"],datasets:[{label:"Gender Distribution",data:[60,35,3,2],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658"],borderWidth:1}]},n={responsive:!0,plugins:{legend:{position:"bottom"}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Gender Distribution"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:400,height:400},children:e.jsx(z,{data:c,options:n,ref:a})})})]})};x.register(v,y,w,f,g);const F=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="applications-by-region-chart.png",t.click()}},i=()=>{const s=["Region,Applications","Dar es Salaam,400","Arusha,250","Mwanza,200","Dodoma,150"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="applications-by-region.csv",l.click()},c={labels:["Dar es Salaam","Arusha","Mwanza","Dodoma"],datasets:[{label:"Applications",data:[400,250,200,150],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658"],borderRadius:8}]},n={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){return`${s.dataset.label}: ${s.parsed.y} Applications`}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Regions",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,ticks:{stepSize:50},title:{display:!0,text:"Number of Applications",font:{size:14,weight:"bold"}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Applications by Region"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:600,height:400},children:e.jsx(j,{data:c,options:n,ref:a})})})]})};x.register(v,y,w,f,g);const $=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="applications-by-category-chart.png",t.click()}},i=()=>{const s=["Category,Applications","Business,120","Health,90","Environment,70","Education,50","Technology,40"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="applications-by-category.csv",l.click()},c={labels:["Business","Health","Environment","Education","Technology"],datasets:[{label:"Applications",data:[120,90,70,50,40],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658","#ff7f50"],borderRadius:8}]},n={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){return`${s.dataset.label}: ${s.parsed.y} Applications`}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Categories",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,ticks:{stepSize:20},title:{display:!0,text:"Number of Applications",font:{size:14,weight:"bold"}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Applications by Category"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:600,height:400},children:e.jsx(j,{data:c,options:n,ref:a})})})]})};x.register(k,f,g);const V=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="single-vs-group-applicants-chart.png",t.click()}},i=()=>{const s=["Type,Applicants","Single,180","Group,70"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="single-vs-group-applicants.csv",l.click()},c={labels:["Single Applicants","Group Applicants"],datasets:[{label:"Applicants",data:[180,70],backgroundColor:["#37AFE3","#82ca9d"],borderWidth:1}]},n={responsive:!0,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(s){return`${s.label}: ${s.parsed} Applicants`}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Applicants: Single vs Group"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:400,height:400},children:e.jsx(z,{data:c,options:n,ref:a})})})]})};x.register(v,y,w,f,g);const H=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="education-level-summary-chart.png",t.click()}},i=()=>{const s=["Education Level,Applicants","Primary,30","Secondary,100","Diploma,80","Bachelor's Degree,120","Master's Degree,40","PhD,10"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="education-level-summary.csv",l.click()},c={labels:["Primary","Secondary","Diploma","Bachelor's Degree","Master's Degree","PhD"],datasets:[{label:"Applicants",data:[30,100,80,120,40,10],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658","#ff7f50","#d0ed57"],borderRadius:8}]},n={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){return`${s.dataset.label}: ${s.parsed.y} Applicants`}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Education Level",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,ticks:{stepSize:20},title:{display:!0,text:"Number of Applicants",font:{size:14,weight:"bold"}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Summary of Education Levels"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:700,height:400},children:e.jsx(j,{data:c,options:n,ref:a})})})]})};x.register(v,y,w,f,g);const J=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="applications-by-media-type-chart.png",t.click()}},i=()=>{const s=["Media Type,Applications","TV,100","Radio,80","Newspaper,50","Online,120","Magazine,30"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="applications-by-media-type.csv",l.click()},c={labels:["TV","Radio","Newspaper","Online","Magazine"],datasets:[{label:"Applications",data:[100,80,50,120,30],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658","#ff7f50"],borderRadius:8}]},n={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){return`${s.dataset.label}: ${s.parsed.y} Applications`}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Media Type",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,ticks:{stepSize:20},title:{display:!0,text:"Number of Applications",font:{size:14,weight:"bold"}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Applications by Media Type"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:600,height:400},children:e.jsx(j,{data:c,options:n,ref:a})})})]})};x.register(v,y,w,f,g);const W=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="applications-by-media-house-chart.png",t.click()}},i=()=>{const s=["Media House,Applications","ITV,90","Clouds Media,70","Azam TV,60","The Citizen,50","Mwananchi,40"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="applications-by-media-house.csv",l.click()},c={labels:["ITV","Clouds Media","Azam TV","The Citizen","Mwananchi"],datasets:[{label:"Applications",data:[90,70,60,50,40],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658","#ff7f50"],borderRadius:8}]},n={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(s){return`${s.dataset.label}: ${s.parsed.y} Applications`}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Media House",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,ticks:{stepSize:10},title:{display:!0,text:"Number of Applications",font:{size:14,weight:"bold"}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Applications by Media House"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:650,height:400},children:e.jsx(j,{data:c,options:n,ref:a})})})]})};x.register(k,f,g);const Y=()=>{const a=d.useRef(null),o=()=>{const s=a.current;if(s){const t=document.createElement("a");t.href=s.toBase64Image("image/png"),t.download="average-age-distribution-chart.png",t.click()}},i=()=>{const s=["Age Range,Applicants","18-25,50","26-35,120","36-45,70","46-60,30"].join(`
`),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="average-age-distribution.csv",l.click()},c={labels:["18-25","26-35","36-45","46-60"],datasets:[{label:"Applicants",data:[50,120,70,30],backgroundColor:["#37AFE3","#569ff7","#82ca9d","#ffc658"],borderWidth:1}]},n={responsive:!0,cutout:"60%",plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(s){return`${s.label}: ${s.parsed} Applicants`}}}}};return e.jsxs("div",{className:"flex flex-col gap-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Average Age Distribution"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{style:{width:400,height:400},children:e.jsx(P,{data:c,options:n,ref:a})})})]})},Z=[{name:"John Doe",age:20},{name:"Jane Smith",age:21},{name:"Tom Johnson",age:22}],K=[{name:"Alice Williams",age:55},{name:"Robert Brown",age:53},{name:"Michael Lee",age:51}],_=()=>{const a=d.useRef(null),o=async()=>{if(a.current){const n=await html2canvas(a.current),s=document.createElement("a");s.href=n.toDataURL("image/png"),s.download="top-applicants-table.png",s.click()}},i=()=>{const n=["Type,Name,Age","Youngest,John Doe,20","Youngest,Jane Smith,21","Youngest,Tom Johnson,22","Oldest,Alice Williams,55","Oldest,Robert Brown,53","Oldest,Michael Lee,51"].join(`
`),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(s),t.download="top-applicants.csv",t.click()},c=[{title:"Name",dataIndex:"name",key:"name"},{title:"Age",dataIndex:"age",key:"age"}];return e.jsxs("div",{ref:a,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-xl font-semibold",children:"Top 3 Youngest & Oldest Applicants"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(m,{}),onClick:o,children:"PNG"}),e.jsx(r,{size:"sm",variant:"solid",icon:e.jsx(h,{}),onClick:i,children:"Excel"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsx(E,{title:"Top 3 Youngest Applicants",bordered:!0,children:e.jsx(R,{dataSource:Z,columns:c,pagination:!1,rowKey:"name",size:"middle",bordered:!0})}),e.jsx(E,{title:"Top 3 Oldest Applicants",bordered:!0,children:e.jsx(R,{dataSource:K,columns:c,pagination:!1,rowKey:"name",size:"middle",bordered:!0})})]})]})};function Be(){const[a,o]=d.useState([]),[i,c]=d.useState(null),[n,s]=d.useState(!1),[t,l]=d.useState(null),[D,C]=d.useState(!0);d.useEffect(()=>{const{request:u,cancel:N}=O.list({page:1,perPage:1e5},"/published");return u.then(b=>{o(b.data.data),C(!1)}).catch(b=>{b instanceof T||(console.error("Error fetching awards",b),C(!1))}),()=>N()},[]);const S=()=>{i&&(s(!0),setTimeout(()=>{l({totalApplicants:800,approvedApplications:550,rejectedApplications:250,regionApplications:[{region:"Dar es Salaam",applications:400},{region:"Arusha",applications:250},{region:"Mwanza",applications:200},{region:"Dodoma",applications:150}]}),s(!1)},1e3))};return e.jsx("div",{className:"flex flex-col gap-6",children:D?e.jsx("div",{className:"bg-white p-4 rounded shadow",children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white p-4 rounded shadow flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Select Award to View Report"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"w-64",children:e.jsx(U,{placeholder:"Select Award",options:a.map(u=>({value:u.uuid,label:u.title})),value:i?{value:i.uuid,label:i.title}:null,onChange:u=>{const N=a.find(b=>b.uuid===(u==null?void 0:u.value));c(N||null)}})}),e.jsx(r,{variant:"solid",disabled:!i||n,onClick:S,children:n?"Submitting...":"Submit"})]})]}),t&&e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(A,{title:"Total Applicantion",className:"bg-blue-500 dark:bg-opacity-75",value:t.totalApplicants,icon:e.jsx(B,{})}),e.jsx(A,{title:"Total Applicants",className:"bg-blue-500 dark:bg-opacity-75",value:t.totalApplicants,icon:e.jsx(L,{})}),e.jsx(A,{title:"Approved Applications",className:"bg-blue-500 dark:bg-opacity-75",value:t.approvedApplications,icon:e.jsx(I,{})}),e.jsx(A,{title:"Rejected Applications",className:"bg-blue-500 dark:bg-opacity-75",value:t.rejectedApplications,icon:e.jsx(M,{})})]}),e.jsx(p,{className:"p-4",children:e.jsx(G,{})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsx(p,{className:"p-4",children:e.jsx(F,{})}),e.jsx(p,{className:"p-4",children:e.jsx($,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsx(p,{className:"p-4",children:e.jsx(V,{})}),e.jsx(p,{className:"p-4",children:e.jsx(H,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsx(p,{className:"p-4",children:e.jsx(J,{})}),e.jsx(p,{className:"p-4",children:e.jsx(W,{})})]}),e.jsx(p,{className:"p-4",children:e.jsx(Y,{})}),e.jsx(p,{className:"p-4",children:e.jsx(_,{})})]})]})})}export{Be as default};
