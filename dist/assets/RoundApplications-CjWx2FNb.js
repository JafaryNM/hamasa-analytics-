import{y as I,a as b,j as e,a9 as P,Y as R}from"./index-BmTDuvZb.js";import{T}from"./index-BADhTaSU.js";import{j as y,m as B}from"./Drawer-DzqlIjEr.js";import{A as D}from"./AdaptiveCard-CrXiXQ44.js";import{h as Y}from"./moment-BLMuvzoS.js";import{B as S}from"./Button-DurQkwM5.js";import"./isNil-pXqcj5Hj.js";import"./index-DiLTFOK_.js";import"./Dialog-DLr3sM2V.js";import"./FileItem-DzXY3F8e.js";import{D as M}from"./DebouceInput-CO8iQz0e.js";import"./debounce-BDIv-DRu.js";import"./Badge-CndVQ9ZH.js";import"./FormContainer-DAIJ54eo.js";import"./index-Kv-3TB7K.js";import"./index-B2aNPlXf.js";import"./index-Dp3eu27c.js";import{T as f}from"./Tag-CnLXc3pt.js";import{t as F}from"./toast-GyZEIVmG.js";import{u as _}from"./useData-BOaL--7C.js";import{R as l,C as i}from"./row-BhmCD8Yc.js";import{F as L,P as z}from"./Table-D5q3gGnO.js";import{N as H}from"./Notification-tU2EwgzP.js";const O=(r={})=>_("/applications",r),he=({awardUuid:r})=>{const c=I(),{data:m,total:o,isLoading:C,pagination:s,setPagination:x}=O({awardUuid:r}),[w,g]=b.useState(""),h=()=>s.perPage*(s.page-1),d=()=>{let t=h()+s.perPage;return o<t&&(t=o),t},k=t=>{x({...s,page:t})},n=()=>{x({...s,page:1,search:w})},j=[{title:"S/n",dataIndex:"s_no",key:"s_no",render:(t,u,N)=>(s.page-1)*s.perPage+N+1},{title:"Title",dataIndex:"title",key:"title"},{title:"Category",dataIndex:"awardCategory",key:"awardCategory",render:t=>t.category.name},{title:"Media Channel",dataIndex:"mediaChannel",key:"mediaChannel",render:t=>(t==null?void 0:t.name)||"-"},{title:"Status",dataIndex:"status",key:"status",render:t=>t=="approved"?e.jsx(f,{className:"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100 border-0 rounded",children:t}):t=="pending"?e.jsx(f,{className:"text-gray-600 bg-gray-200 dark:text-red-100 dark:bg-gray-500/20 border-0",children:t}):e.jsx(f,{className:"text-red-600 bg-red-100 dark:text-red-100 dark:bg-red-500/20 border-0",children:t})},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>Y(t).format("DD MMM YYYY")},{title:"Action",dataIndex:"uuid",key:"uuid",render:t=>e.jsx(T,{wrapperClass:"flex",title:"View",children:e.jsx("span",{className:"cursor-pointer p-2 text-primary",onClick:()=>c(`/award-management/awards/details/${t}`),children:e.jsx(B,{size:20})})})}];return e.jsx(P,{children:e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:e.jsx("h3",{children:"Applications"})}),e.jsx(l,{className:"mt-5",children:e.jsx(i,{span:24,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsx(M,{placeholder:"Search",suffix:e.jsx(y,{className:"text-lg"}),onChange:t=>g(t.target.value),onKeyDown:t=>t.key==="Enter"&&n()}),e.jsx(S,{icon:e.jsx(y,{}),onClick:()=>n(),children:"Search"})]})})}),e.jsx(l,{className:"mt-5",children:e.jsx(i,{span:24,children:e.jsx(L,{dataSource:m,columns:j,rowKey:"uuid",loading:C,pagination:!1})})}),e.jsxs(l,{className:"mt-4",children:[e.jsx(i,{sm:24,md:12,children:e.jsxs("p",{className:"category",children:["Showing ",h()+1," to ",d()," of ",o," ","entries"]})}),e.jsx(i,{sm:24,md:12,children:e.jsx(z,{align:"end",current:s.page,total:o,pageSize:s.perPage,onChange:k})})]})]})})})},V=(r={})=>_("/applications/judge-unreviewed",r),je=({awardUuid:r,awardRoundUuid:c,currentRound:m})=>{const{signOut:o}=R(),C=I(),[s,x]=b.useState(""),[w,g]=b.useState(!1),{data:h,total:d,isLoading:k,pagination:n,setPagination:j,authenticated:t}=V({awardUuid:r,awardRoundUuid:c});t||o();const u=()=>n.perPage*(n.page-1),N=()=>{const a=u()+n.perPage;return d<a?d:a},E=a=>{j({...n,page:a})},A=()=>{j({...n,page:1,search:s})},$=()=>{g(!0),F.push(e.jsx(H,{title:"Round Completion",type:"success",children:"This round has been marked as complete."})),g(!1)},v=[{title:"S/n",key:"s_no",render:(a,p,K)=>u()+K+1},{title:"Title",dataIndex:"title",key:"title"},{title:"Category",dataIndex:"awardCategory",key:"awardCategory",render:a=>{var p;return((p=a==null?void 0:a.category)==null?void 0:p.name)||"N/A"}},{title:"Media Type",dataIndex:"mediaChannel",key:"mediaChannel",render:a=>(a==null?void 0:a.name)||"N/A"},{title:"Status",dataIndex:"status",key:"status",render:a=>e.jsx(f,{className:`capitalize border-0 rounded ${a==="approved"?"bg-emerald-100 text-emerald-600":a==="pending"?"bg-gray-200 text-gray-700":"bg-red-100 text-red-600"}`,children:a})},{title:"Total Score",dataIndex:"totalScore",key:"totalScore",render:a=>a??"N/A"},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:a=>Y(a).format("DD MMM YYYY")},{title:"Action",key:"action",render:(a,p)=>e.jsx(T,{title:"Review Application",children:e.jsx("span",{className:"cursor-pointer p-2 text-primary",onClick:()=>C(`/judge-management/awards/evaluations/${r}/application/${p.uuid}?round=${c}`),children:e.jsx(B,{size:20})})})}];return e.jsx(P,{children:e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Unreviewed Applications"}),(m==null?void 0:m.uuid)===c&&e.jsx(S,{variant:"solid",type:"button",className:"bg-success text-white hover:!bg-success",loading:w,onClick:$,children:"Complete Round"})]}),e.jsx(l,{className:"mt-4",children:e.jsx(i,{span:24,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx(M,{placeholder:"Search",suffix:e.jsx(y,{className:"text-lg"}),onChange:a=>x(a.target.value),onKeyDown:a=>a.key==="Enter"&&A()}),e.jsx(S,{icon:e.jsx(y,{}),onClick:A,children:"Search"})]})})}),e.jsx(l,{className:"mt-4",children:e.jsx(i,{span:24,children:e.jsx(L,{dataSource:h,columns:v,rowKey:"uuid",loading:k,pagination:!1})})}),e.jsxs(l,{className:"mt-4",children:[e.jsx(i,{sm:24,md:12,children:e.jsxs("p",{className:"text-sm",children:["Showing ",u()+1," to ",N()," of ",d," ","entries"]})}),e.jsx(i,{sm:24,md:12,children:e.jsx(z,{align:"end",current:n.page,total:d,pageSize:n.perPage,onChange:E})})]})]})})})};export{he as A,je as R,O as u};
