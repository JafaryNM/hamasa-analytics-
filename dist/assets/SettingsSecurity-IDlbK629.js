import{a as t,j as e}from"./index-BmTDuvZb.js";import{B as b}from"./Button-DurQkwM5.js";import{I as i}from"./FormContainer-DAIJ54eo.js";import{C as S}from"./ConfirmDialog-teBenfrx.js";import{u as N,t as v,o as B,F,a as m,C as l,s as d}from"./types-CS3IvESl.js";import"./index-BADhTaSU.js";import"./Badge-CndVQ9ZH.js";import{C as R}from"./Card-BgjqMMuG.js";import"./FileItem-DzXY3F8e.js";import"./Dialog-DLr3sM2V.js";import"./Drawer-DzqlIjEr.js";import"./index-Kv-3TB7K.js";import"./index-B2aNPlXf.js";import"./index-Dp3eu27c.js";import"./toast-GyZEIVmG.js";import"./classNames-1IIsPMBF.js";import"./isNil-pXqcj5Hj.js";import"./CloseButton-DJjxVEoc.js";import"./index-D_KHXJS9.js";const T=o=>new Promise(p=>setTimeout(p,o)),I=B({currentPassword:d().min(1,{message:"Please enter your current password!"}),newPassword:d().min(1,{message:"Please enter your new password!"}),confirmNewPassword:d().min(1,{message:"Please confirm your new password!"})}).refine(o=>o.confirmNewPassword===o.newPassword,{message:"Password not match",path:["confirmNewPassword"]}),Z=()=>{var u,w,f;const[o,p]=t.useState("googleAuthenticator"),[g,r]=t.useState(!1),[h,c]=t.useState(!1),x=t.useRef(null),{getValues:y,handleSubmit:P,formState:{errors:s},control:n}=N({resolver:v(I)}),j=async()=>{c(!0),await T(1e3),console.log("getValues",y()),r(!1),c(!1)},C=async()=>{r(!0)};return e.jsxs(R,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{children:"Password"}),e.jsx("p",{children:"Remember, your password is your digital key to your account. Keep it safe, keep it secure!"})]}),e.jsxs(F,{ref:x,className:"mb-8",onSubmit:P(C),children:[e.jsx(m,{label:"Current password",invalid:!!s.currentPassword,errorMessage:(u=s.currentPassword)==null?void 0:u.message,children:e.jsx(l,{name:"currentPassword",control:n,render:({field:a})=>e.jsx(i,{type:"password",autoComplete:"off",placeholder:"•••••••••",...a})})}),e.jsx(m,{label:"New password",invalid:!!s.newPassword,errorMessage:(w=s.newPassword)==null?void 0:w.message,children:e.jsx(l,{name:"newPassword",control:n,render:({field:a})=>e.jsx(i,{type:"password",autoComplete:"off",placeholder:"•••••••••",...a})})}),e.jsx(m,{label:"Confirm new password",invalid:!!s.confirmNewPassword,errorMessage:(f=s.confirmNewPassword)==null?void 0:f.message,children:e.jsx(l,{name:"confirmNewPassword",control:n,render:({field:a})=>e.jsx(i,{type:"password",autoComplete:"off",placeholder:"•••••••••",...a})})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{variant:"solid",type:"submit",children:"Update"})})]}),e.jsx(S,{isOpen:g,type:"warning",title:"Update password",confirmButtonProps:{loading:h,onClick:j},onClose:()=>r(!1),onRequestClose:()=>r(!1),onCancel:()=>r(!1),children:e.jsx("p",{children:"Are you sure you want to change your password?"})})]})};export{Z as default};
