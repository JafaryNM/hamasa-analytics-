import{j as e,z as S,ab as _,aQ as L,a as t,Y as P,ac as I}from"./index-BmTDuvZb.js";import{a as O}from"./applicationService-RqaSRVra.js";import{C as r}from"./Card-BgjqMMuG.js";import{D as T}from"./Dialog-DLr3sM2V.js";import{a as E}from"./index-DGp4Bpbf.js";import{s as A,D as M,t as R,u as F}from"./Drawer-DzqlIjEr.js";import{a as V}from"./index-FDV89gbd.js";import{E as H,K as U,N as G}from"./CloseButton-DJjxVEoc.js";import{A as Z,D as q,P as z,_ as B,a as K}from"./index-k8z-5w5v.js";import{T as Q}from"./index-l7uWxvW8.js";import"./apiService-CUP-TZv2.js";import"./context-Du5Tb9SW.js";import"./toConsumableArray-BwQuJZQe.js";import"./useBreakpoint-B4e-Cr1A.js";import"./index-D8WFQQX-.js";import"./Compact-BRfsaHnR.js";import"./omit-B089rQxj.js";import"./AntdIcon-Bbd_N7Ky.js";import"./extendsObject-BwUYxLSG.js";const W=()=>e.jsx("div",{children:e.jsx(S,{size:40,indicator:V})});function C(l){return _({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M.97 3.97a.75.75 0 0 1 1.06 0l15 15a.75.75 0 1 1-1.06 1.06l-15-15a.75.75 0 0 1 0-1.06ZM17.25 16.06l2.69 2.69c.944.945 2.56.276 2.56-1.06V6.31c0-1.336-1.616-2.005-2.56-1.06l-2.69 2.69v8.12ZM15.75 7.5v8.068L4.682 4.5h8.068a3 3 0 0 1 3 3ZM1.5 16.5V7.682l11.773 11.773c-.17.03-.345.045-.523.045H4.5a3 3 0 0 1-3-3Z"},child:[]}]})(l)}K.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${B}/pdf.worker.js`;const x=l=>{var n;const s=(n=l.split(".").pop())==null?void 0:n.toLowerCase();return s?["jpg","jpeg","png","gif","bmp","webp"].includes(s)?"image":["mp4","avi","mov","mkv","wmv"].includes(s)?"video":["pdf"].includes(s)?"pdf":["mp3","wav","ogg","m4a"].includes(s)?"audio":"file":"file"},Y=({attachment:l})=>{const[s,n]=t.useState(null),[i,d]=t.useState(1),[m,c]=t.useState(!1),h=({numPages:p})=>{n(p)};return x(l.url)==="image"?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:l.url,alt:"Attachment",className:"w-full h-auto object-cover rounded-md cursor-pointer",onClick:()=>c(!0)}),m&&e.jsx(T,{isOpen:m,onClose:()=>c(!1),children:e.jsx("div",{className:"flex flex-col items-center p-4",children:e.jsx("img",{src:l.url,alt:"Preview",className:"w-full max-w-md rounded-lg"})})})]}):x(l.url)==="video"?e.jsx("video",{controls:!0,className:"w-full h-40 rounded-md",children:e.jsx("source",{src:l.url,type:"video/mp4"})}):x(l.url)==="pdf"?e.jsxs("div",{className:"border rounded-lg p-3 shadow-md bg-gray-50 dark:bg-gray-800",children:[e.jsx(q,{file:l.url,onLoadSuccess:h,children:e.jsx(z,{pageNumber:i,width:250})}),e.jsxs("div",{className:"text-center mt-2",children:[e.jsxs("p",{children:["Page ",i," of ",s]}),e.jsx("button",{disabled:i<=1,onClick:()=>d(i-1),className:"text-blue-500 px-2",children:"Prev"}),e.jsx("button",{disabled:i>=(s??1),onClick:()=>d(i+1),className:"text-blue-500 px-2",children:"Next"})]})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(A,{className:"text-4xl text-blue-500 mb-2"}),e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:l.title||"Download File"})]})},ge=()=>{var b,N,v,w,y,k;const{uuid:l}=L(),[s,n]=t.useState(null),[i,d]=t.useState(!1),[m,c]=t.useState(!1),{user:h}=P(),p=()=>c(!0),g=()=>c(!1);t.useEffect(()=>{D()},[]),console.log(h.uuid);const D=()=>{d(!0);const{request:a,cancel:u}=O.show(l??"");return a.then(o=>{o.data.data&&n(o.data.data),d(!1)}).catch(o=>{o instanceof I||(console.error("Error fetching application:",o),d(!1))}),()=>u()};if(!s)return e.jsx("p",{className:"text-center",children:"Not found"});const f=((b=s.attachments)==null?void 0:b.filter(a=>["image","video","pdf"].includes(x(a.url))))||[],j=((N=s.attachments)==null?void 0:N.filter(a=>!["image","video","pdf"].includes(x(a.url))))||[];return i?e.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:e.jsx(W,{})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"p-2 px-4 text-white rounded-md bg-green-500 hover:bg-green-600 transition",onClick:p,children:"View Applicants"})}),e.jsxs("div",{className:"gap-4 flex flex-col flex-auto",children:[e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Award Information"}),e.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"text-4xl text-white bg-blue-400 p-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Title"}),e.jsx("div",{children:((v=s==null?void 0:s.award)==null?void 0:v.title)||"N/A"})]})]})})]}),e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Application Information"}),e.jsxs("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"text-4xl text-white bg-blue-400 p-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Application Title"}),e.jsx("div",{className:"mt-1",children:(s==null?void 0:s.title)||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-4xl text-white bg-blue-400 p-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Status"}),e.jsx(Q,{className:"text-red-600 bg-red-100 dark:text-red-100 dark:bg-red-500/20 border-0",children:(s==null?void 0:s.status)||"N/A"})]})]})]}),e.jsxs("div",{className:"mt-8 p-4 border rounded-md",children:[e.jsx("div",{className:"font-bold",children:"Application Description"}),(s==null?void 0:s.description)||"N/A"]})]})]}),e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Media Information"}),e.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-4xl text-white bg-blue-400 p-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Is group"}),e.jsx("div",{className:"mt-1",children:s!=null&&s.isGroup?"Group Application":"Single Application"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"text-4xl text-white bg-blue-400 p-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:(w=s.awardCategory)==null?void 0:w.category.name}),e.jsx("div",{className:"mt-1",children:"Award Category"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"text-4xl text-white bg-blue-400 p-2 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:s.mediaChannel.name}),e.jsx("div",{className:"mt-1",children:"media channel"})]})]})]})})]}),((y=s==null?void 0:s.awardCategory)==null?void 0:y.category)&&e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Award Category"}),e.jsxs("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-700 p-4",children:[e.jsx("div",{className:"font-bold mb-2 text-gray-800 dark:text-white",children:s.awardCategory.category.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-line",children:s.awardCategory.category.description})]})]}),f.length>0&&e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"File Attachments"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4",children:f.map(a=>e.jsx("div",{className:"border rounded-lg p-3 shadow-sm bg-white dark:bg-gray-800",children:e.jsx(Y,{attachment:a})},a.uuid))})]}),j.length>0&&e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Online Links Support"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:j.map(a=>e.jsxs("div",{className:"flex flex-col justify-between border rounded-lg p-4 shadow-sm bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100 mb-2",children:a.title||"Untitled File"}),e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm break-words",children:a.url})]},a.uuid))})]}),((k=s==null?void 0:s.attachedLinks)==null?void 0:k.length)>0&&e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Attached Links"}),e.jsx("div",{className:"grid grid-cols-1 gap-4 p-4",children:s.attachedLinks.map((a,u)=>e.jsxs("div",{className:"border rounded-lg p-4 shadow-sm bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"font-semibold text-gray-800 dark:text-white mb-1",children:a.title||"Untitled Link"}),e.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-words text-sm",children:a.link})]},u))})]}),(s==null?void 0:s.editorReferenceUrl)&&e.jsxs(r,{children:[e.jsx("h4",{className:"mb-4 font-semibold text-lg",children:"Editor Reference Letter"}),e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"text-3xl text-blue-500"}),e.jsx("a",{href:s.editorReferenceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View or Download Editor Reference Letter"})]})})]})]}),e.jsx(M,{title:"Applicants Information",isOpen:m,placement:"right",width:500,onClose:g,onRequestClose:g,children:e.jsx("div",{className:"space-y-6",children:s.members.map(a=>e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Z,{}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-gray-900",children:[a.member.firstName," ",a.member.lastName]}),a.member.phone&&e.jsx("div",{className:"text-sm text-gray-600",children:a.member.phone})]})]}),e.jsxs("div",{className:"mt-4 space-y-2 text-gray-700",children:[a.member.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"text-xl opacity-70"}),e.jsx("span",{children:a.member.email})]}),a.member.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"text-xl opacity-70"}),e.jsx("span",{children:a.member.phone})]})]})]},a.uuid))})})]})};export{ge as default};
