import{h as Ut,i as _t,c as st,a as D,j as dt,b as F,e as Tt,_ as jt}from"./toConsumableArray-BwQuJZQe.js";import{T as Kt,k as Ur,s as V,U as Rt,V as ft,M as zt,i as Ht,b as Wt,R as Bt,p as Vt,O as Qt,G as Gt,t as Xe,W as ht,X as mt,a as Jt}from"./context-Du5Tb9SW.js";import{a as o,ai as Zt,ah as qt,t as nr,aa as Ot}from"./index-BmTDuvZb.js";var Wn=function(){function e(t,r){_t(this,e),st(this,"name",void 0),st(this,"style",void 0),st(this,"_keyframe",!0),this.name=t,this.style=r}return Ut(e,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),e}(),Bn={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224};const lt=()=>({height:0,opacity:0}),wt=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Xt=e=>({height:e?e.offsetHeight:0}),ct=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",Fn=(e=Kt)=>({motionName:`${e}-motion-collapse`,onAppearStart:lt,onEnterStart:lt,onAppearActive:wt,onEnterActive:wt,onLeaveStart:Xt,onLeaveActive:lt,onAppearEnd:ct,onEnterEnd:ct,onLeaveEnd:ct,motionDeadline:500}),An=(e,t,r)=>r!==void 0?r:`${e}-${t}`,Yt=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),i=a.width,u=a.height;if(i||u)return!0}}return!1},pt=e=>({animationDuration:e,animationFillMode:"both"}),en=e=>({animationDuration:e,animationFillMode:"both"}),In=(e,t,r,n,a=!1)=>{const i=a?"&":"";return{[`
      ${i}${e}-enter,
      ${i}${e}-appear
    `]:Object.assign(Object.assign({},pt(n)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},en(n)),{animationPlayState:"paused"}),[`
      ${i}${e}-enter${e}-enter-active,
      ${i}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}};var Ft=o.createContext(null),bt=[];function rn(e,t){var r=o.useState(function(){if(!Ur())return null;var m=document.createElement("div");return m}),n=D(r,1),a=n[0],i=o.useRef(!1),u=o.useContext(Ft),l=o.useState(bt),v=D(l,2),h=v[0],C=v[1],g=u||(i.current?void 0:function(m){C(function(M){var S=[m].concat(dt(M));return S})});function y(){a.parentElement||document.body.appendChild(a),i.current=!0}function d(){var m;(m=a.parentElement)===null||m===void 0||m.removeChild(a),i.current=!1}return V(function(){return e?u?u(y):y():d(),d},[e]),V(function(){h.length&&(h.forEach(function(m){return m()}),C(bt))},[h]),[a,g]}var vt;function At(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=t;var n=r.style;n.position="absolute",n.left="0",n.top="0",n.width="100px",n.height="100px",n.overflow="scroll";var a,i;if(e){var u=getComputedStyle(e);n.scrollbarColor=u.scrollbarColor,n.scrollbarWidth=u.scrollbarWidth;var l=getComputedStyle(e,"::-webkit-scrollbar"),v=parseInt(l.width,10),h=parseInt(l.height,10);try{var C=v?"width: ".concat(l.width,";"):"",g=h?"height: ".concat(l.height,";"):"";Rt(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(C,`
`).concat(g,`
}`),t)}catch(m){console.error(m),a=v,i=h}}document.body.appendChild(r);var y=e&&a&&!isNaN(a)?a:r.offsetWidth-r.clientWidth,d=e&&i&&!isNaN(i)?i:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),ft(t),{width:y,height:d}}function Un(e){return typeof document>"u"?0:(vt===void 0&&(vt=At()),vt.width)}function tn(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:At(e)}function nn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var an="rc-util-locker-".concat(Date.now()),Ct=0;function on(e){var t=!!e,r=o.useState(function(){return Ct+=1,"".concat(an,"_").concat(Ct)}),n=D(r,1),a=n[0];V(function(){if(t){var i=tn(document.body).width,u=nn();Rt(`
html body {
  overflow-y: hidden;
  `.concat(u?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else ft(a);return function(){ft(a)}},[t,a])}var un=!1;function sn(e){return un}var Mt=function(t){return t===!1?!1:!Ur()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},It=o.forwardRef(function(e,t){var r=e.open,n=e.autoLock,a=e.getContainer;e.debug;var i=e.autoDestroy,u=i===void 0?!0:i,l=e.children,v=o.useState(r),h=D(v,2),C=h[0],g=h[1],y=C||r;o.useEffect(function(){(u||r)&&g(r)},[r,u]);var d=o.useState(function(){return Mt(a)}),m=D(d,2),M=m[0],S=m[1];o.useEffect(function(){var ae=Mt(a);S(ae??null)});var $=rn(y&&!M),T=D($,2),E=T[0],A=T[1],z=M??E;on(n&&r&&Ur()&&(z===E||z===document.body));var f=null;if(l&&zt(l)&&t){var le=l;f=le.ref}var q=Ht(f,t);if(!y||!Ur()||M===void 0)return null;var me=z===!1||sn(),O=l;return t&&(O=o.cloneElement(l,{ref:q})),o.createElement(Ft.Provider,{value:A},me?O:Zt.createPortal(O,z))});function ln(){var e=F({},qt);return e.useId}var St=0,Pt=ln();const cn=Pt?function(t){var r=Pt();return t||r}:function(t){var r=o.useState("ssr-id"),n=D(r,2),a=n[0],i=n[1];return o.useEffect(function(){var u=St;St+=1,i("rc_unique_".concat(u))},[]),t||a},vn=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function dn(e){var t=e.prefixCls,r=e.align,n=e.arrow,a=e.arrowPos,i=n||{},u=i.className,l=i.content,v=a.x,h=v===void 0?0:v,C=a.y,g=C===void 0?0:C,y=o.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var m=r.points[0],M=r.points[1],S=m[0],$=m[1],T=M[0],E=M[1];S===T||!["t","b"].includes(S)?d.top=g:S==="t"?d.top=0:d.bottom=0,$===E||!["l","r"].includes($)?d.left=h:$==="l"?d.left=0:d.right=0}return o.createElement("div",{ref:y,className:nr("".concat(t,"-arrow"),u),style:d},l)}function fn(e){var t=e.prefixCls,r=e.open,n=e.zIndex,a=e.mask,i=e.motion;return a?o.createElement(Wt,Tt({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var l=u.className;return o.createElement("div",{style:{zIndex:n},className:nr("".concat(t,"-mask"),l)})}):null}var hn=o.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),mn=o.forwardRef(function(e,t){var r=e.popup,n=e.className,a=e.prefixCls,i=e.style,u=e.target,l=e.onVisibleChanged,v=e.open,h=e.keepDom,C=e.fresh,g=e.onClick,y=e.mask,d=e.arrow,m=e.arrowPos,M=e.align,S=e.motion,$=e.maskMotion,T=e.forceRender,E=e.getPopupContainer,A=e.autoDestroy,z=e.portal,f=e.zIndex,le=e.onMouseEnter,q=e.onMouseLeave,me=e.onPointerEnter,O=e.onPointerDownCapture,ae=e.ready,ge=e.offsetX,ye=e.offsetY,ce=e.offsetR,we=e.offsetB,H=e.onAlign,I=e.onPrepare,w=e.stretch,ie=e.targetWidth,Q=e.targetHeight,U=typeof r=="function"?r():r,b=v||h,ke=(E==null?void 0:E.length)>0,ar=o.useState(!E||!ke),$e=D(ar,2),X=$e[0],ir=$e[1];if(V(function(){!X&&ke&&u&&ir(!0)},[X,ke,u]),!X)return null;var ve="auto",G={left:"-1000vw",top:"-1000vh",right:ve,bottom:ve};if(ae||!v){var Ae,Ie=M.points,Ee=M.dynamicInset||((Ae=M._experimental)===null||Ae===void 0?void 0:Ae.dynamicInset),de=Ee&&Ie[0][1]==="r",Y=Ee&&Ie[0][0]==="b";de?(G.right=ce,G.left=ve):(G.left=ge,G.right=ve),Y?(G.bottom=we,G.top=ve):(G.top=ye,G.bottom=ve)}var _={};return w&&(w.includes("height")&&Q?_.height=Q:w.includes("minHeight")&&Q&&(_.minHeight=Q),w.includes("width")&&ie?_.width=ie:w.includes("minWidth")&&ie&&(_.minWidth=ie)),v||(_.pointerEvents="none"),o.createElement(z,{open:T||b,getContainer:E&&function(){return E(u)},autoDestroy:A},o.createElement(fn,{prefixCls:a,open:v,zIndex:f,mask:y,motion:$}),o.createElement(Bt,{onResize:H,disabled:!v},function(be){return o.createElement(Wt,Tt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(a,"-hidden")},S,{onAppearPrepare:I,onEnterPrepare:I,visible:v,onVisibleChanged:function(De){var J;S==null||(J=S.onVisibleChanged)===null||J===void 0||J.call(S,De),l(De)}}),function(Le,De){var J=Le.className,Ue=Le.style,p=nr(a,J,n);return o.createElement("div",{ref:Vt(be,t,De),className:p,style:F(F(F(F({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},G),_),Ue),{},{boxSizing:"border-box",zIndex:f},i),onMouseEnter:le,onMouseLeave:q,onPointerEnter:me,onClick:g,onPointerDownCapture:O},d&&o.createElement(dn,{prefixCls:a,arrow:d,arrowPos:m,align:M}),o.createElement(hn,{cache:!v&&!C},U))})}))}),gn=o.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,a=zt(r),i=o.useCallback(function(l){Qt(t,n?n(l):l)},[n]),u=Ht(i,Gt(r));return a?o.cloneElement(r,{ref:u}):r}),kt=o.createContext(null);function $t(e){return e?Array.isArray(e)?e:[e]:[]}function yn(e,t,r,n){return o.useMemo(function(){var a=$t(r??t),i=$t(n??t),u=new Set(a),l=new Set(i);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[e,t,r,n])}function wn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function bn(e,t,r,n){for(var a=r.points,i=Object.keys(e),u=0;u<i.length;u+=1){var l,v=i[u];if(wn((l=e[v])===null||l===void 0?void 0:l.points,a,n))return"".concat(t,"-placement-").concat(v)}return""}function Et(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function yr(e){return e.ownerDocument.defaultView}function gt(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=yr(r).getComputedStyle(r),i=a.overflowX,u=a.overflowY,l=a.overflow;[i,u,l].some(function(v){return n.includes(v)})&&t.push(r),r=r.parentElement}return t}function gr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function mr(e){return gr(parseFloat(e),0)}function Lt(e,t){var r=F({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=yr(n).getComputedStyle(n),i=a.overflow,u=a.overflowClipMargin,l=a.borderTopWidth,v=a.borderBottomWidth,h=a.borderLeftWidth,C=a.borderRightWidth,g=n.getBoundingClientRect(),y=n.offsetHeight,d=n.clientHeight,m=n.offsetWidth,M=n.clientWidth,S=mr(l),$=mr(v),T=mr(h),E=mr(C),A=gr(Math.round(g.width/m*1e3)/1e3),z=gr(Math.round(g.height/y*1e3)/1e3),f=(m-M-T-E)*A,le=(y-d-S-$)*z,q=S*z,me=$*z,O=T*A,ae=E*A,ge=0,ye=0;if(i==="clip"){var ce=mr(u);ge=ce*A,ye=ce*z}var we=g.x+O-ge,H=g.y+q-ye,I=we+g.width+2*ge-O-ae-f,w=H+g.height+2*ye-q-me-le;r.left=Math.max(r.left,we),r.top=Math.max(r.top,H),r.right=Math.min(r.right,I),r.bottom=Math.min(r.bottom,w)}}),r}function Dt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function xt(e,t){var r=t||[],n=D(r,2),a=n[0],i=n[1];return[Dt(e.width,a),Dt(e.height,i)]}function Nt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function tr(e,t){var r=t[0],n=t[1],a,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?a=e.x:n==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:i}}function Fe(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,a){return a===t?r[n]||"c":n}).join("")}function Cn(e,t,r,n,a,i,u){var l=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),v=D(l,2),h=v[0],C=v[1],g=o.useRef(0),y=o.useMemo(function(){return t?gt(t):[]},[t]),d=o.useRef({}),m=function(){d.current={}};e||m();var M=Xe(function(){if(t&&r&&e){let ne=function(fr,Pe){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:or,hr=b.x+fr,Fr=b.y+Pe,at=hr+Y,it=Fr+de,ot=Math.max(hr,Be.left),s=Math.max(Fr,Be.top),c=Math.min(at,Be.right),L=Math.min(it,Be.bottom);return Math.max(0,(c-ot)*(L-s))},rr=function(){Te=b.y+x,Re=Te+de,Qe=b.x+k,Se=Qe+Y};var T,E,A,z,f=t,le=f.ownerDocument,q=yr(f),me=q.getComputedStyle(f),O=me.position,ae=f.style.left,ge=f.style.top,ye=f.style.right,ce=f.style.bottom,we=f.style.overflow,H=F(F({},a[n]),i),I=le.createElement("div");(T=f.parentElement)===null||T===void 0||T.appendChild(I),I.style.left="".concat(f.offsetLeft,"px"),I.style.top="".concat(f.offsetTop,"px"),I.style.position=O,I.style.height="".concat(f.offsetHeight,"px"),I.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden";var w;if(Array.isArray(r))w={x:r[0],y:r[1],width:0,height:0};else{var ie,Q,U=r.getBoundingClientRect();U.x=(ie=U.x)!==null&&ie!==void 0?ie:U.left,U.y=(Q=U.y)!==null&&Q!==void 0?Q:U.top,w={x:U.x,y:U.y,width:U.width,height:U.height}}var b=f.getBoundingClientRect(),ke=q.getComputedStyle(f),ar=ke.height,$e=ke.width;b.x=(E=b.x)!==null&&E!==void 0?E:b.left,b.y=(A=b.y)!==null&&A!==void 0?A:b.top;var X=le.documentElement,ir=X.clientWidth,ve=X.clientHeight,G=X.scrollWidth,Ae=X.scrollHeight,Ie=X.scrollTop,Ee=X.scrollLeft,de=b.height,Y=b.width,_=w.height,be=w.width,Le={left:0,top:0,right:ir,bottom:ve},De={left:-Ee,top:-Ie,right:G-Ee,bottom:Ae-Ie},J=H.htmlRegion,Ue="visible",p="visibleFirst";J!=="scroll"&&J!==p&&(J=Ue);var _e=J===p,_r=Lt(De,y),P=Lt(Le,y),or=J===Ue?P:_r,W=_e?P:or;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var wr=f.getBoundingClientRect();f.style.left=ae,f.style.top=ge,f.style.right=ye,f.style.bottom=ce,f.style.overflow=we,(z=f.parentElement)===null||z===void 0||z.removeChild(I);var Ce=gr(Math.round(Y/parseFloat($e)*1e3)/1e3),xe=gr(Math.round(de/parseFloat(ar)*1e3)/1e3);if(Ce===0||xe===0||ht(r)&&!Yt(r))return;var jr=H.offset,br=H.targetOffset,fe=xt(b,jr),Cr=D(fe,2),ee=Cr[0],oe=Cr[1],Ye=xt(w,br),Z=D(Ye,2),Ne=Z[0],Kr=Z[1];w.x-=Ne,w.y-=Kr;var Vr=H.points||[],Mr=D(Vr,2),Qr=Mr[0],Sr=Mr[1],Me=Nt(Sr),j=Nt(Qr),B=tr(w,Me),Pr=tr(b,j),re=F({},H),k=B.x-Pr.x+ee,x=B.y-Pr.y+oe,ue=ne(k,x),je=ne(k,x,P),te=tr(w,["t","l"]),kr=tr(b,["t","l"]),ur=tr(w,["b","r"]),Ke=tr(b,["b","r"]),Ve=H.overflow||{},Gr=Ve.adjustX,$r=Ve.adjustY,pe=Ve.shiftX,sr=Ve.shiftY,Er=function(Pe){return typeof Pe=="boolean"?Pe:Pe>=0},Te,Re,Qe,Se;rr();var Lr=Er($r),K=j[0]===Me[0];if(Lr&&j[0]==="t"&&(Re>W.bottom||d.current.bt)){var Ge=x;K?Ge-=de-_:Ge=te.y-Ke.y-oe;var Dr=ne(k,Ge),Jr=ne(k,Ge,P);Dr>ue||Dr===ue&&(!_e||Jr>=je)?(d.current.bt=!0,x=Ge,oe=-oe,re.points=[Fe(j,0),Fe(Me,0)]):d.current.bt=!1}if(Lr&&j[0]==="b"&&(Te<W.top||d.current.tb)){var Je=x;K?Je+=de-_:Je=ur.y-kr.y-oe;var xr=ne(k,Je),Zr=ne(k,Je,P);xr>ue||xr===ue&&(!_e||Zr>=je)?(d.current.tb=!0,x=Je,oe=-oe,re.points=[Fe(j,0),Fe(Me,0)]):d.current.tb=!1}var Nr=Er(Gr),Tr=j[1]===Me[1];if(Nr&&j[1]==="l"&&(Se>W.right||d.current.rl)){var Ze=k;Tr?Ze-=Y-be:Ze=te.x-Ke.x-ee;var qe=ne(Ze,x),lr=ne(Ze,x,P);qe>ue||qe===ue&&(!_e||lr>=je)?(d.current.rl=!0,k=Ze,ee=-ee,re.points=[Fe(j,1),Fe(Me,1)]):d.current.rl=!1}if(Nr&&j[1]==="r"&&(Qe<W.left||d.current.lr)){var Oe=k;Tr?Oe+=Y-be:Oe=ur.x-kr.x-ee;var cr=ne(Oe,x),er=ne(Oe,x,P);cr>ue||cr===ue&&(!_e||er>=je)?(d.current.lr=!0,k=Oe,ee=-ee,re.points=[Fe(j,1),Fe(Me,1)]):d.current.lr=!1}rr();var se=pe===!0?0:pe;typeof se=="number"&&(Qe<P.left&&(k-=Qe-P.left-ee,w.x+be<P.left+se&&(k+=w.x-P.left+be-se)),Se>P.right&&(k-=Se-P.right-ee,w.x>P.right-se&&(k+=w.x-P.right+se)));var ze=sr===!0?0:sr;typeof ze=="number"&&(Te<P.top&&(x-=Te-P.top-oe,w.y+_<P.top+ze&&(x+=w.y-P.top+_-ze)),Re>P.bottom&&(x-=Re-P.bottom-oe,w.y>P.bottom-ze&&(x+=w.y-P.bottom+ze)));var He=b.x+k,We=He+Y,vr=b.y+x,qr=vr+de,Rr=w.x,zr=Rr+be,Hr=w.y,Or=Hr+_,Xr=Math.max(He,Rr),Wr=Math.min(We,zr),Yr=(Xr+Wr)/2,pr=Yr-He,Br=Math.max(vr,Hr),et=Math.min(qr,Or),rt=(Br+et)/2,tt=rt-vr;u==null||u(t,re);var he=wr.right-b.x-(k+b.width),dr=wr.bottom-b.y-(x+b.height);Ce===1&&(k=Math.round(k),he=Math.round(he)),xe===1&&(x=Math.round(x),dr=Math.round(dr));var nt={ready:!0,offsetX:k/Ce,offsetY:x/xe,offsetR:he/Ce,offsetB:dr/xe,arrowX:pr/Ce,arrowY:tt/xe,scaleX:Ce,scaleY:xe,align:re};C(nt)}}),S=function(){g.current+=1;var E=g.current;Promise.resolve().then(function(){g.current===E&&M()})},$=function(){C(function(E){return F(F({},E),{},{ready:!1})})};return V($,[n]),V(function(){e||$()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,S]}function Mn(e,t,r,n,a){V(function(){if(e&&t&&r){let g=function(){n(),a()};var i=t,u=r,l=gt(i),v=gt(u),h=yr(u),C=new Set([h].concat(dt(l),dt(v)));return C.forEach(function(y){y.addEventListener("scroll",g,{passive:!0})}),h.addEventListener("resize",g,{passive:!0}),n(),function(){C.forEach(function(y){y.removeEventListener("scroll",g),h.removeEventListener("resize",g)})}}},[e,t,r])}function Sn(e,t,r,n,a,i,u,l){var v=o.useRef(e);v.current=e;var h=o.useRef(!1);o.useEffect(function(){if(t&&n&&(!a||i)){var g=function(){h.current=!1},y=function(S){var $;v.current&&!u((($=S.composedPath)===null||$===void 0||($=$.call(S))===null||$===void 0?void 0:$[0])||S.target)&&!h.current&&l(!1)},d=yr(n);d.addEventListener("pointerdown",g,!0),d.addEventListener("mousedown",y,!0),d.addEventListener("contextmenu",y,!0);var m=mt(r);return m&&(m.addEventListener("mousedown",y,!0),m.addEventListener("contextmenu",y,!0)),function(){d.removeEventListener("pointerdown",g,!0),d.removeEventListener("mousedown",y,!0),d.removeEventListener("contextmenu",y,!0),m&&(m.removeEventListener("mousedown",y,!0),m.removeEventListener("contextmenu",y,!0))}}},[t,r,n,a,i]);function C(){h.current=!0}return C}var Pn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function kn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:It,t=o.forwardRef(function(r,n){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,u=r.children,l=r.action,v=l===void 0?"hover":l,h=r.showAction,C=r.hideAction,g=r.popupVisible,y=r.defaultPopupVisible,d=r.onPopupVisibleChange,m=r.afterPopupVisibleChange,M=r.mouseEnterDelay,S=r.mouseLeaveDelay,$=S===void 0?.1:S,T=r.focusDelay,E=r.blurDelay,A=r.mask,z=r.maskClosable,f=z===void 0?!0:z,le=r.getPopupContainer,q=r.forceRender,me=r.autoDestroy,O=r.destroyPopupOnHide,ae=r.popup,ge=r.popupClassName,ye=r.popupStyle,ce=r.popupPlacement,we=r.builtinPlacements,H=we===void 0?{}:we,I=r.popupAlign,w=r.zIndex,ie=r.stretch,Q=r.getPopupClassNameFromAlign,U=r.fresh,b=r.alignPoint,ke=r.onPopupClick,ar=r.onPopupAlign,$e=r.arrow,X=r.popupMotion,ir=r.maskMotion,ve=r.popupTransitionName,G=r.popupAnimation,Ae=r.maskTransitionName,Ie=r.maskAnimation,Ee=r.className,de=r.getTriggerDOMNode,Y=jt(r,Pn),_=me||O||!1,be=o.useState(!1),Le=D(be,2),De=Le[0],J=Le[1];V(function(){J(vn())},[]);var Ue=o.useRef({}),p=o.useContext(kt),_e=o.useMemo(function(){return{registerSubPopup:function(c,L){Ue.current[c]=L,p==null||p.registerSubPopup(c,L)}}},[p]),_r=cn(),P=o.useState(null),or=D(P,2),W=or[0],wr=or[1],Ce=o.useRef(null),xe=Xe(function(s){Ce.current=s,ht(s)&&W!==s&&wr(s),p==null||p.registerSubPopup(_r,s)}),jr=o.useState(null),br=D(jr,2),fe=br[0],Cr=br[1],ee=o.useRef(null),oe=Xe(function(s){ht(s)&&fe!==s&&(Cr(s),ee.current=s)}),Ye=o.Children.only(u),Z=(Ye==null?void 0:Ye.props)||{},Ne={},Kr=Xe(function(s){var c,L,R=fe;return(R==null?void 0:R.contains(s))||((c=mt(R))===null||c===void 0?void 0:c.host)===s||s===R||(W==null?void 0:W.contains(s))||((L=mt(W))===null||L===void 0?void 0:L.host)===s||s===W||Object.values(Ue.current).some(function(N){return(N==null?void 0:N.contains(s))||s===N})}),Vr=Et(i,X,G,ve),Mr=Et(i,ir,Ie,Ae),Qr=o.useState(y||!1),Sr=D(Qr,2),Me=Sr[0],j=Sr[1],B=g??Me,Pr=Xe(function(s){g===void 0&&j(s)});V(function(){j(g||!1)},[g]);var re=o.useRef(B);re.current=B;var k=o.useRef([]);k.current=[];var x=Xe(function(s){var c;Pr(s),((c=k.current[k.current.length-1])!==null&&c!==void 0?c:B)!==s&&(k.current.push(s),d==null||d(s))}),ue=o.useRef(),je=function(){clearTimeout(ue.current)},te=function(c){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;je(),L===0?x(c):ue.current=setTimeout(function(){x(c)},L*1e3)};o.useEffect(function(){return je},[]);var kr=o.useState(!1),ur=D(kr,2),Ke=ur[0],Ve=ur[1];V(function(s){(!s||B)&&Ve(!0)},[B]);var Gr=o.useState(null),$r=D(Gr,2),pe=$r[0],sr=$r[1],Er=o.useState(null),Te=D(Er,2),Re=Te[0],Qe=Te[1],Se=function(c){Qe([c.clientX,c.clientY])},Lr=Cn(B,W,b&&Re!==null?Re:fe,ce,H,I,ar),K=D(Lr,11),Ge=K[0],Dr=K[1],Jr=K[2],Je=K[3],xr=K[4],Zr=K[5],Nr=K[6],Tr=K[7],Ze=K[8],qe=K[9],lr=K[10],Oe=yn(De,v,h,C),cr=D(Oe,2),er=cr[0],se=cr[1],ze=er.has("click"),He=se.has("click")||se.has("contextMenu"),We=Xe(function(){Ke||lr()}),vr=function(){re.current&&b&&He&&te(!1)};Mn(B,fe,W,We,vr),V(function(){We()},[Re,ce]),V(function(){B&&!(H!=null&&H[ce])&&We()},[JSON.stringify(I)]);var qr=o.useMemo(function(){var s=bn(H,i,qe,b);return nr(s,Q==null?void 0:Q(qe))},[qe,Q,H,i,b]);o.useImperativeHandle(n,function(){return{nativeElement:ee.current,popupElement:Ce.current,forceAlign:We}});var Rr=o.useState(0),zr=D(Rr,2),Hr=zr[0],Or=zr[1],Xr=o.useState(0),Wr=D(Xr,2),Yr=Wr[0],pr=Wr[1],Br=function(){if(ie&&fe){var c=fe.getBoundingClientRect();Or(c.width),pr(c.height)}},et=function(){Br(),We()},rt=function(c){Ve(!1),lr(),m==null||m(c)},tt=function(){return new Promise(function(c){Br(),sr(function(){return c})})};V(function(){pe&&(lr(),pe(),sr(null))},[pe]);function he(s,c,L,R){Ne[s]=function(N){var Ar;R==null||R(N),te(c,L);for(var ut=arguments.length,yt=new Array(ut>1?ut-1:0),Ir=1;Ir<ut;Ir++)yt[Ir-1]=arguments[Ir];(Ar=Z[s])===null||Ar===void 0||Ar.call.apply(Ar,[Z,N].concat(yt))}}(ze||He)&&(Ne.onClick=function(s){var c;re.current&&He?te(!1):!re.current&&ze&&(Se(s),te(!0));for(var L=arguments.length,R=new Array(L>1?L-1:0),N=1;N<L;N++)R[N-1]=arguments[N];(c=Z.onClick)===null||c===void 0||c.call.apply(c,[Z,s].concat(R))});var dr=Sn(B,He,fe,W,A,f,Kr,te),nt=er.has("hover"),ne=se.has("hover"),rr,fr;nt&&(he("onMouseEnter",!0,M,function(s){Se(s)}),he("onPointerEnter",!0,M,function(s){Se(s)}),rr=function(c){(B||Ke)&&W!==null&&W!==void 0&&W.contains(c.target)&&te(!0,M)},b&&(Ne.onMouseMove=function(s){var c;(c=Z.onMouseMove)===null||c===void 0||c.call(Z,s)})),ne&&(he("onMouseLeave",!1,$),he("onPointerLeave",!1,$),fr=function(){te(!1,$)}),er.has("focus")&&he("onFocus",!0,T),se.has("focus")&&he("onBlur",!1,E),er.has("contextMenu")&&(Ne.onContextMenu=function(s){var c;re.current&&se.has("contextMenu")?te(!1):(Se(s),te(!0)),s.preventDefault();for(var L=arguments.length,R=new Array(L>1?L-1:0),N=1;N<L;N++)R[N-1]=arguments[N];(c=Z.onContextMenu)===null||c===void 0||c.call.apply(c,[Z,s].concat(R))}),Ee&&(Ne.className=nr(Z.className,Ee));var Pe=o.useRef(!1);Pe.current||(Pe.current=q||B||Ke);var Be=F(F({},Z),Ne),hr={},Fr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Fr.forEach(function(s){Y[s]&&(hr[s]=function(){for(var c,L=arguments.length,R=new Array(L),N=0;N<L;N++)R[N]=arguments[N];(c=Be[s])===null||c===void 0||c.call.apply(c,[Be].concat(R)),Y[s].apply(Y,R)})});var at=o.cloneElement(Ye,F(F({},Be),hr)),it={x:Zr,y:Nr},ot=$e?F({},$e!==!0?$e:{}):null;return o.createElement(o.Fragment,null,o.createElement(Bt,{disabled:!B,ref:oe,onResize:et},o.createElement(gn,{getTriggerDOMNode:de},at)),Pe.current&&o.createElement(kt.Provider,{value:_e},o.createElement(mn,{portal:e,ref:xe,prefixCls:i,popup:ae,className:nr(ge,qr),style:ye,target:fe,onMouseEnter:rr,onMouseLeave:fr,onPointerEnter:rr,zIndex:w,open:B,keepDom:Ke,fresh:U,onClick:ke,onPointerDownCapture:dr,mask:A,motion:Vr,maskMotion:Mr,onVisibleChanged:rt,onPrepare:tt,forceRender:q,autoDestroy:_,getPopupContainer:le,align:qe,arrow:ot,arrowPos:it,ready:Ge,offsetX:Dr,offsetY:Jr,offsetR:Je,offsetB:xr,onAlign:We,stretch:ie,targetWidth:Hr/Tr,targetHeight:Yr/Ze})))});return t}const _n=kn(It),$n=(e,t)=>{typeof(e==null?void 0:e.addEventListener)<"u"?e.addEventListener("change",t):typeof(e==null?void 0:e.addListener)<"u"&&e.addListener(t)},En=(e,t)=>{typeof(e==null?void 0:e.removeEventListener)<"u"?e.removeEventListener("change",t):typeof(e==null?void 0:e.removeListener)<"u"&&e.removeListener(t)},Ln=["xxl","xl","lg","md","sm","xs"],Dn=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),xn=e=>{const t=e,r=[].concat(Ln).reverse();return r.forEach((n,a)=>{const i=n.toUpperCase(),u=`screen${i}Min`,l=`screen${i}`;if(!(t[u]<=t[l]))throw new Error(`${u}<=${l} fails : !(${t[u]}<=${t[l]})`);if(a<r.length-1){const v=`screen${i}Max`;if(!(t[l]<=t[v]))throw new Error(`${l}<=${v} fails : !(${t[l]}<=${t[v]})`);const C=`screen${r[a+1].toUpperCase()}Min`;if(!(t[v]<=t[C]))throw new Error(`${v}<=${C} fails : !(${t[v]}<=${t[C]})`)}}),e},Nn=()=>{const[,e]=Jt(),t=Dn(xn(e));return Ot.useMemo(()=>{const r=new Map;let n=-1,a={};return{responsiveMap:t,matchHandlers:{},dispatch(i){return a=i,r.forEach(u=>u(a)),r.size>=1},subscribe(i){return r.size||this.register(),n+=1,r.set(n,i),i(a),n},unsubscribe(i){r.delete(i),r.size||this.unregister()},register(){Object.entries(t).forEach(([i,u])=>{const l=({matches:h})=>{this.dispatch(Object.assign(Object.assign({},a),{[i]:h}))},v=window.matchMedia(u);$n(v,l),this.matchHandlers[u]={mql:v,listener:l},l(v)})},unregister(){Object.values(t).forEach(i=>{const u=this.matchHandlers[i];En(u==null?void 0:u.mql,u==null?void 0:u.listener)}),r.clear()}}},[e])};function Tn(){const[,e]=o.useReducer(t=>t+1,0);return e}function jn(e=!0,t={}){const r=o.useRef(t),n=Tn(),a=Nn();return V(()=>{const i=a.subscribe(u=>{r.current=u,e&&n()});return()=>a.unsubscribe(i)},[]),r.current}export{Wn as K,It as P,_n as T,Bn as a,vn as b,Fn as c,cn as d,Yt as e,Un as f,An as g,tn as h,In as i,Tn as j,Ln as r,jn as u};
