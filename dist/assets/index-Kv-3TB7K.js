import{a as p,j as f,av as z,as as y,al as I,t as N,ar as j}from"./index-BmTDuvZb.js";import{c as S}from"./classNames-1IIsPMBF.js";import{u as k,I as E,a as P,b as A}from"./Button-DurQkwM5.js";const b=p.createContext({}),R=b.Provider;b.Consumer;function $(){return p.useContext(b)}function G(e){const n=p.useRef(e);return p.useEffect(()=>{n.current=e}),p.useMemo(()=>(...a)=>{var s;return(s=n.current)==null?void 0:s.call(n,...a)},[])}function M({defaultProp:e,onChange:n}){const a=p.useState(e),[s]=a,u=p.useRef(s),o=G(n);return p.useEffect(()=>{u.current!==s&&(o(s),u.current=s)},[s,u,o]),a}function T({prop:e,defaultProp:n,onChange:a=()=>{}}){const[s,u]=M({defaultProp:n,onChange:a}),o=e!==void 0,c=o?e:s,i=G(a),m=p.useCallback(r=>{const t=r;if(o){const l=typeof r=="function"?t(e):r;l!==e&&i(l)}else u(r)},[o,e,u,i]);return[c,m]}const V=e=>{const{children:n,className:a,defaultValue:s,onChange:u=()=>{},ref:o,selectionType:c="single",size:i,value:m,...r}=e,[t,l]=T({prop:m,defaultProp:s,onChange:u}),h=x=>{l(x)},g=x=>{c==="single"&&l(""),c==="multiple"&&l((v=[])=>v.filter(d=>d!==x))},C=p.useMemo(()=>{if(c==="single")return t&&typeof t=="string"?[t]:t&&Array.isArray(t)?t:[];if(c==="multiple")return t||[]},[c,t]);return f.jsx(R,{value:{value:C,onActive:h,onDeactivate:g,selectionType:c,size:i},children:f.jsx("div",{ref:o,className:S("segment","gap-2 bg-gray-100 dark:bg-gray-700",a),...r,children:n})})},Z=e=>Array.isArray(e)?e[0]:e,w=e=>{const{children:n,className:a,disabled:s=!1,ref:u,value:o,size:c,...i}=e,{value:m,onActive:r,onDeactivate:t,selectionType:l,size:h}=$(),g=m.includes(o),C=c||h,x=p.useCallback(()=>{let d="";switch(C){case y.LG:d=S(z.lg.h,"md:px-8 py-2 px-4 text-base");break;case y.SM:d=S(z.sm.h,"px-3 py-2 text-sm");break;case y.XS:d=S(z.xs.h,"px-3 py-1 text-xs");break;default:d=S(z.md.h,"px-5 py-2");break}return d},[C]),v=()=>{if(!s){if(g)l==="multiple"&&(t==null||t(o));else if(l==="single"&&(r==null||r(o)),l==="multiple"){const d=[...m,o];r==null||r(d)}}};return typeof n=="function"?Z(n)({active:g,onSegmentItemClick:v,disabled:s,value:o,...i}):f.jsx("button",{ref:u,className:S("segment-item",x(),g&&"segment-item-active",s&&"segment-item-disabled",a),onClick:v,...i,children:n})},L=V;L.Item=w;const O=({ref:e,...n})=>{var t;const{children:a,className:s,size:u}=n,{controlSize:o}=I(),c=(t=k())==null?void 0:t.size,i=u||c||o,m=N("input-group",s),r={size:i};return f.jsx(E,{value:r,children:f.jsx(P,{children:()=>f.jsx("div",{ref:e,className:m,children:a})})})},U=({ref:e,...n})=>{var t,l;const{size:a,children:s,className:u}=n,{controlSize:o}=I(),c=(t=k())==null?void 0:t.size,i=(l=A())==null?void 0:l.size,m=a||i||c||o,r=N("input-addon",`input-addon-${m} ${j[m].h}`,u);return f.jsx("div",{ref:e,className:r,children:s})},_=O;_.Addon=U;export{_ as I,L as S,G as a,T as u};
