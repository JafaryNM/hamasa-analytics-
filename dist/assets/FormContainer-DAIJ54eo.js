import{a as f,al as b,ar as X,t as C,j as r,as as tt,ay as et}from"./index-BmTDuvZb.js";import{u as st,c as nt,b as rt,F as it,d as at}from"./Button-DurQkwM5.js";import{i as R}from"./isNil-pXqcj5Hj.js";const dt=u=>{var j,F,G;const{asElement:p="input",className:c,disabled:d,invalid:m,prefix:e,size:x,suffix:s,textArea:i,type:A="text",ref:W,rows:L,style:S,unstyle:T=!1,...h}=u,[w,P]=f.useState(0),[V,$]=f.useState(0),{controlSize:O,direction:y}=b(),D=(j=st())==null?void 0:j.size,Z=(F=nt())==null?void 0:F.invalid,M=(G=rt())==null?void 0:G.size,I=x||M||D||O,g=m||Z,U=t=>typeof t>"u"||t===null?"":t;"value"in u&&(h.value=U(u.value),delete h.defaultValue);const Y="input",_=`input-${I} ${X[I].h}`,k="focus:ring-primary focus-within:ring-primary focus-within:border-primary focus:border-primary",q=C("input-wrapper",e||s?c:""),B=C(Y,!i&&_,!g&&k,!e&&!s?c:"",d&&"input-disabled",g&&"input-invalid",i&&"input-textarea"),o=f.useRef(null),l=f.useRef(null),H=()=>{var n,E;if(!o.current&&!l.current)return;const t=(n=o==null?void 0:o.current)==null?void 0:n.offsetWidth,a=(E=l==null?void 0:l.current)==null?void 0:E.offsetWidth;R(t)&&R(a)||(t&&P(t),a&&$(a))};f.useEffect(()=>{H()},[e,s]);const v=t=>.0625*t,J=()=>{const t=`${v(w)+1}rem`,a=`${v(V)+1}rem`,n={};return y==="ltr"&&(e&&(n.paddingLeft=t),s&&(n.paddingRight=a)),y==="rtl"&&(e&&(n.paddingRight=t),s&&(n.paddingLeft=a)),n},z={className:T?"":B,disabled:d,type:A,ref:W,...h},K=r.jsx("textarea",{style:S,rows:L,...z}),N=r.jsx(p,{style:{...J(),...S},...z}),Q=r.jsxs("span",{className:q,children:[e?r.jsxs("div",{ref:o,className:"input-suffix-start",children:[" ",e," "]}):null,N,s?r.jsx("div",{ref:l,className:"input-suffix-end",children:s}):null]});return i?K:e||s?Q:N},ut=u=>{const{controlSize:p}=b(),{children:c,className:d,labelWidth:m=100,layout:e=et.VERTICAL,size:x=tt.MD}=u,s={labelWidth:m,layout:e,size:x||p};return r.jsx(it,{value:s,children:r.jsx(at,{children:i=>r.jsx("div",{className:C("form-container",i==null?void 0:i.layout,d),children:c})})})};ut.displayName="FormContainer";export{ut as F,dt as I};
