import{a as o,j as m,d as O}from"./index-BmTDuvZb.js";import{I as $}from"./FormContainer-DAIJ54eo.js";const V=({length:a=6,value:u="",onChange:c,disabled:D=!1,className:i="",inputClass:w,autoFocus:y=!1,placeholder:A,invalid:P=!1})=>{const[v,f]=o.useState(0),e=o.useRef([]);o.useEffect(()=>{e.current=Array(a).fill(null).map((s,t)=>e.current[t]||null)},[a]);const R=(s,t)=>{var l;const r=s.target.value;if(r.length>1)return;const p=u.slice(0,t)+r+u.slice(t+1);c==null||c(p),r&&t<a-1&&(f(t+1),(l=e.current[t+1])==null||l.focus())},j=(s,t)=>{var r,p,l;if(s.key==="Backspace")if(s.preventDefault(),u[t]){const I=u.slice(0,t)+""+u.slice(t+1);c==null||c(I)}else t>0&&(f(t-1),(r=e.current[t-1])==null||r.focus());else s.key==="ArrowLeft"&&t>0?(s.preventDefault(),f(t-1),(p=e.current[t-1])==null||p.focus()):s.key==="ArrowRight"&&t<a-1&&(s.preventDefault(),f(t+1),(l=e.current[t+1])==null||l.focus())},k=s=>{s.preventDefault();const t=s.clipboardData.getData("text/plain").slice(0,a);t.match(/^[0-9]+$/)&&(c==null||c(t.padEnd(a,"")))},E=s=>t=>{e.current[s]=t};return m.jsx("div",{className:`flex gap-2 ${i}`,children:Array(a).fill(null).map((s,t)=>m.jsx($,{ref:E(t),className:O("text-center text-lg h-[58px] w-[58px]",w),type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:u[t]||"",disabled:D,autoFocus:y&&t===0,placeholder:A,"aria-label":`Digit ${t+1} of ${a}`,invalid:P,onChange:r=>R(r,t),onKeyDown:r=>j(r,t),onPaste:k,onFocus:()=>f(t)},t))})};export{V as O};
