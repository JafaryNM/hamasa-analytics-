import{Y as A,y as C,a as g,j as e,a9 as S}from"./index-BmTDuvZb.js";import{h as k}from"./moment-BLMuvzoS.js";import{j as h,m as N}from"./Drawer-DzqlIjEr.js";import{u as v}from"./useData-BOaL--7C.js";import{A as P}from"./AdaptiveCard-CrXiXQ44.js";import{B as T}from"./Button-DurQkwM5.js";import"./isNil-pXqcj5Hj.js";import"./index-DiLTFOK_.js";import{T as D}from"./index-BADhTaSU.js";import"./Dialog-DLr3sM2V.js";import"./FileItem-DzXY3F8e.js";import{D as I}from"./DebouceInput-CO8iQz0e.js";import"./debounce-BDIv-DRu.js";import"./Badge-CndVQ9ZH.js";import"./FormContainer-DAIJ54eo.js";import"./index-Kv-3TB7K.js";import"./index-B2aNPlXf.js";import"./index-Dp3eu27c.js";import"./toast-GyZEIVmG.js";import{R as l,C as o}from"./row-BhmCD8Yc.js";import{F as _,P as E}from"./Table-D5q3gGnO.js";import{T as Y}from"./index-l7uWxvW8.js";import"./CloseButton-DJjxVEoc.js";import"./Card-BgjqMMuG.js";import"./classNames-1IIsPMBF.js";import"./index-D_KHXJS9.js";import"./context-Du5Tb9SW.js";import"./toConsumableArray-BwQuJZQe.js";import"./useBreakpoint-B4e-Cr1A.js";import"./extendsObject-BwUYxLSG.js";import"./index-D8WFQQX-.js";import"./Compact-BRfsaHnR.js";import"./AntdIcon-Bbd_N7Ky.js";import"./omit-B089rQxj.js";import"./EllipsisOutlined-BvS74-YI.js";import"./getAllowClear-TCr_opQ2.js";import"./useVariants-D5R8gtcG.js";const B=()=>v("/applications/member"),we=()=>{const{signOut:M}=A(),m=C(),{data:u,total:s,isLoading:f,pagination:a,setPagination:n}=B(),[p,j]=g.useState("");g.useEffect(()=>{n(t=>({...t,page:1,search:p}))},[p]);const c=()=>a.perPage*(a.page-1),y=()=>Math.min(c()+a.perPage,s),w=t=>{n(i=>({...i,page:t}))},d=()=>{n(t=>({...t,page:1,search:p}))},b=[{title:"S/n",dataIndex:"s_no",key:"s_no",render:(t,i,r)=>(a.page-1)*a.perPage+r+1},{title:"Story Title",dataIndex:"title",key:"title"},{title:"Award Category",dataIndex:"awardCategory",key:"awardCategory",render:t=>{var i;return((i=t==null?void 0:t.category)==null?void 0:i.name)||"-"}},{title:"Status",dataIndex:"status",key:"status",render:t=>e.jsx(Y,{color:t==="pending"?"green":t=="rejected"?"red":t==="submitted"?"orange":t==="approved"?"green":"default",children:t==="submitted"?"in progress":t})},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>k(t).format("DD MMM YYYY")},{title:"Action",key:"action",render:(t,i)=>{const{status:r,uuid:x}=i;return r==="submitted"?e.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white rounded-md px-4 py-2",title:"Complete Application",onClick:()=>m(`/applications/apply/${x}`),children:"Complete Application"}):r==="pending"?e.jsx(D,{wrapperClass:"flex",title:"View Details",children:e.jsx("span",{className:"cursor-pointer p-2 text-primary",onClick:()=>m(`/applications/details/${x}`),children:e.jsx(N,{size:20})})}):null}}];return e.jsx(S,{children:e.jsx(P,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:e.jsx("h3",{children:"Applications"})}),e.jsx(l,{className:"mt-5",children:e.jsx(o,{span:24,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsx(I,{placeholder:"Search",suffix:e.jsx(h,{className:"text-lg"}),onChange:t=>j(t.target.value),onKeyDown:t=>t.key==="Enter"&&d()}),e.jsx(T,{icon:e.jsx(h,{}),onClick:d,children:"Search"})]})})}),e.jsx(l,{className:"mt-5",children:e.jsx(o,{span:24,children:e.jsx(_,{dataSource:u,columns:b,rowKey:"uuid",loading:f,pagination:!1})})}),e.jsxs(l,{className:"mt-4",children:[e.jsx(o,{sm:24,md:12,children:e.jsxs("p",{className:"category",children:["Showing ",c()+1," to ",y()," of ",s," ","entries"]})}),e.jsx(o,{sm:24,md:12,children:e.jsx(E,{align:"end",current:a.page,total:s,pageSize:a.perPage,onChange:w})})]})]})})})};export{we as default};
